(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{114:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(2),a=n(1),i=Object(r.a)((function e(){Object(a.a)(this,e)}));i.ENCRYPTED="ENCRYPTED",i.SIGNED="SIGNED"},115:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(1),a=n(2),i=n(29),s=function(){function e(){Object(r.a)(this,e)}return Object(a.a)(e,null,[{key:"sha256x2",value:function(e){var t=i.a.sha256(e);return i.a.sha256(t)}},{key:"sha256Ripemd160",value:function(e){var t=i.a.sha256(e);return i.a.ripemd160(t)}}]),e}()},16:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return _}));var r=n(1),a=n(2),i=n(116),s=n.n(i),o=n(23),c=n(107),u=n.n(c),l=n(232),h=n.n(l),v=n(32),d=n.n(v),f=n(358),y=n.n(f),p=n(233),m=n.n(p),b=n(5),g=n.n(b),O=n(127),k=n.n(O),j=n(20),w=n(115),_=function(){function t(){Object(r.a)(this,t)}return Object(a.a)(t,null,[{key:"generateCompressedPublicKeyFromXY",value:function(e,t){var n=new Uint8Array(33);return n[0]=0===(1&t[31])?2:3,n.set(e,1),n}},{key:"hashByPublicKey",value:function(e){return w.a.sha256Ripemd160(e)}},{key:"addressByPublicKey",value:function(e){var t=w.a.sha256Ripemd160(e);return new h.a(d()(t,{in:"hex",out:"bytes"})).toString()}},{key:"addressByHash",value:function(e){var t=w.a.sha256Ripemd160(e);return new h.a(d()(t,{in:"hex",out:"bytes"})).toString()}},{key:"isCompressedPrivateKey",value:function(e){return this.forgeCoinKeyFromPrivateKey(e).compressed}},{key:"forgeEntity",value:function(e){var t={};return t.privateKey=this.wifPrivateKeyToBinary(e),t.privateKeyWif=this.privateKeyToWif(t.privateKey,!0),t.publicKey=this.extractPublicKey(t.privateKey,!0),t.publicHash=this.hashByPublicKey(t.publicKey),t.address=this.addressByPublicKey(t.publicKey),t}},{key:"extractPublicKeyFromWif",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;void 0===t&&(t=this.isCompressedPrivateKey(e));var n=this.wifPrivateKeyToBinary(e);return this.extractPublicKey(n,t)}},{key:"extractPublicKey",value:function(t){var n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;void 0===r&&(r=this.isCompressedPrivateKey(t)),n=t instanceof e?t:new e(t);var a=new s.a(n,r);return a.publicKey}},{key:"privateKeyToWif",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;if(void 0===t&&(t=this.isCompressedPrivateKey(e)),"object"===typeof e){var n=this.forgeCoinKeyFromPrivateKey(e);return n.privateWif}if(g.a.isString(e))return e}},{key:"encryptPrivateKey",value:function(e,t){var n=y.a.decode(this.privateKeyToWif(e));return m.a.encrypt(n.privateKey,n.compressed,t)}},{key:"decryptPrivateKey",value:function(e,t){if(this.isEncrypted(e)){if(g.a.isEmpty(t))throw new Error("Enter passphrase");return m.a.decrypt(e,t,(function(e){console.log(e.percent)})).privateKey}return this.wifPrivateKeyToBinary(e)}},{key:"isEncrypted",value:function(t){var n=k.a.decode(t),r=new e(n);return 1===r[0]&&66===r[1]}},{key:"forgeCoinKeyFromPrivateKey",value:function(t){var n;return"object"===typeof t?(t instanceof Uint8Array&&(t=new e(t)),n=new s.a(t)):"string"===typeof t&&(n=s.a.fromWif(t)),n}},{key:"binaryPrivateKeyToWif",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;t instanceof e||(t=j.a.toBuffer(t)),void 0===n&&(n=this.isCompressedPrivateKey(t));var r=new s.a(t,n);return r.privateWif}},{key:"wifPrivateKeyToBinary",value:function(e){return s.a.fromWif(e).privateKey}},{key:"generatePrivateKey",value:function(){var e=null;do{e=o.randomBytes(32)}while(!u.a.privateKeyVerify(e));return e}}]),t}()}).call(this,n(15).Buffer)},165:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return c}));var r=n(1),a=n(2),i=n(20),s=n(114),o=n(356),c=function(){function t(e){Object(r.a)(this,t),this.coinName=void 0,this.coinName=e}return Object(a.a)(t,[{key:"encode",value:function(t,n,r){return e.isBuffer(n)&&(n=n.toString("base64")),["-----BEGIN "+this.coinName+" SIGNED MESSAGE-----",r,"-----BEGIN SIGNATURE-----",n,"-----END "+this.coinName+" SIGNED MESSAGE-----"].join("\n")}},{key:"decode",value:function(e){var t=this.parse(e);return{signature:i.a.toBuffer(t.signature,"base64"),message:t.signed_message}}},{key:"getType",value:function(e){var t=this.parse(e);if(t.hasOwnProperty("encrypted_message"))return s.a.ENCRYPTED;if(t.hasOwnProperty("signed_message"))return s.a.SIGNED;throw new Error("Not supported document type!")}},{key:"parse",value:function(e){var t=(new o.a).decode(e),n={};for(var r in t){var a=t[r];n[r.replace(this.coinName.toLowerCase()+"_","")]=a}return n}}]),t}()}).call(this,n(15).Buffer)},166:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(2),a=n(1),i=Object(r.a)((function e(){Object(a.a)(this,e),this.signature=void 0,this.messageHash=void 0,this.message=void 0,this.publicKey=void 0,this.address=void 0,this.document=void 0}))},20:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return o}));var r=n(1),a=n(2),i=n(32),s=n.n(i),o=function(){function t(){Object(r.a)(this,t)}return Object(a.a)(t,null,[{key:"encode",value:function(t,n,r){return this.UTF8,r===this.BUFFER&&t instanceof e?t:s()(t,{in:n,out:r})}},{key:"decode",value:function(e,t,n){return this.encode(e,n,t)}},{key:"toBytes",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,n={out:"bytes"};return t&&(n.in=t),s()(e,n)}},{key:"toBuffer",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,n={out:"buffer"};return t&&(n.in=t),s()(e,n)}},{key:"toHex",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,n={out:"hex"};return t&&(n.in=t),s()(e,n)}}]),t}();o.HEX="hex",o.BINARY="binary",o.UTF8="utf8",o.BYTES="bytes",o.BUFFER="buffer"}).call(this,n(15).Buffer)},29:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n(1),a=n(2),i=n(178),s=n.n(i),o=n(47),c=function(){function e(){Object(r.a)(this,e)}return Object(a.a)(e,null,[{key:"hash",value:function(e,t){return s()(e,t)}},{key:"sha256",value:function(e){return s()(o.a.SHA256,e)}},{key:"ripemd160",value:function(e){return s()(o.a.RIPEMD160,e)}}]),e}()},349:function(e){e.exports=JSON.parse('{"action":{"send":"Send","save":"Save"},"label":{"version":"Version"},"message":{"deleteSuccess":"Successfully removed!"}}')},350:function(e){e.exports=JSON.parse('{"action":{"send":"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c","save":"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"},"label":{"version":"\u0412\u0435\u0440\u0441\u0438\u044f"},"message":{"deleteSuccess":"\u0423\u0441\u043f\u0435\u0448\u043d\u043e \u0443\u0434\u0430\u043b\u0435\u043d\u043e!"}}')},351:function(e){e.exports=JSON.parse('[{"code":"ab","name":"Abkhaz","nativeName":"\u0430\u04a7\u0441\u0443\u0430"},{"code":"aa","name":"Afar","nativeName":"Afaraf"},{"code":"af","name":"Afrikaans","nativeName":"Afrikaans"},{"code":"ak","name":"Akan","nativeName":"Akan"},{"code":"sq","name":"Albanian","nativeName":"Shqip"},{"code":"am","name":"Amharic","nativeName":"\u12a0\u121b\u122d\u129b"},{"code":"ar","name":"Arabic","nativeName":"\u0627\u0644\u0639\u0631\u0628\u064a\u0629"},{"code":"an","name":"Aragonese","nativeName":"Aragon\xe9s"},{"code":"hy","name":"Armenian","nativeName":"\u0540\u0561\u0575\u0565\u0580\u0565\u0576"},{"code":"as","name":"Assamese","nativeName":"\u0985\u09b8\u09ae\u09c0\u09af\u09bc\u09be"},{"code":"av","name":"Avaric","nativeName":"\u0430\u0432\u0430\u0440 \u043c\u0430\u0446\u04c0, \u043c\u0430\u0433\u04c0\u0430\u0440\u0443\u043b \u043c\u0430\u0446\u04c0"},{"code":"ae","name":"Avestan","nativeName":"avesta"},{"code":"ay","name":"Aymara","nativeName":"aymar aru"},{"code":"az","name":"Azerbaijani","nativeName":"az\u0259rbaycan dili"},{"code":"bm","name":"Bambara","nativeName":"bamanankan"},{"code":"ba","name":"Bashkir","nativeName":"\u0431\u0430\u0448\u04a1\u043e\u0440\u0442 \u0442\u0435\u043b\u0435"},{"code":"eu","name":"Basque","nativeName":"euskara, euskera"},{"code":"be","name":"Belarusian","nativeName":"\u0411\u0435\u043b\u0430\u0440\u0443\u0441\u043a\u0430\u044f"},{"code":"bn","name":"Bengali","nativeName":"\u09ac\u09be\u0982\u09b2\u09be"},{"code":"bh","name":"Bihari","nativeName":"\u092d\u094b\u091c\u092a\u0941\u0930\u0940"},{"code":"bi","name":"Bislama","nativeName":"Bislama"},{"code":"bs","name":"Bosnian","nativeName":"bosanski jezik"},{"code":"br","name":"Breton","nativeName":"brezhoneg"},{"code":"bg","name":"Bulgarian","nativeName":"\u0431\u044a\u043b\u0433\u0430\u0440\u0441\u043a\u0438 \u0435\u0437\u0438\u043a"},{"code":"my","name":"Burmese","nativeName":"\u1017\u1019\u102c\u1005\u102c"},{"code":"ca","name":"Catalan; Valencian","nativeName":"Catal\xe0"},{"code":"ch","name":"Chamorro","nativeName":"Chamoru"},{"code":"ce","name":"Chechen","nativeName":"\u043d\u043e\u0445\u0447\u0438\u0439\u043d \u043c\u043e\u0442\u0442"},{"code":"ny","name":"Chichewa; Chewa; Nyanja","nativeName":"chiChe\u0175a, chinyanja"},{"code":"zh","name":"Chinese","nativeName":"\u4e2d\u6587 (Zh\u014dngw\xe9n), \u6c49\u8bed, \u6f22\u8a9e"},{"code":"cv","name":"Chuvash","nativeName":"\u0447\u04d1\u0432\u0430\u0448 \u0447\u04d7\u043b\u0445\u0438"},{"code":"kw","name":"Cornish","nativeName":"Kernewek"},{"code":"co","name":"Corsican","nativeName":"corsu, lingua corsa"},{"code":"cr","name":"Cree","nativeName":"\u14c0\u1426\u1403\u152d\u140d\u140f\u1423"},{"code":"hr","name":"Croatian","nativeName":"hrvatski"},{"code":"cs","name":"Czech","nativeName":"\u010desky, \u010de\u0161tina"},{"code":"da","name":"Danish","nativeName":"dansk"},{"code":"dv","name":"Divehi; Dhivehi; Maldivian;","nativeName":"\u078b\u07a8\u0788\u07ac\u0780\u07a8"},{"code":"nl","name":"Dutch","nativeName":"Nederlands, Vlaams"},{"code":"en","name":"English","nativeName":"English"},{"code":"eo","name":"Esperanto","nativeName":"Esperanto"},{"code":"et","name":"Estonian","nativeName":"eesti, eesti keel"},{"code":"ee","name":"Ewe","nativeName":"E\u028begbe"},{"code":"fo","name":"Faroese","nativeName":"f\xf8royskt"},{"code":"fj","name":"Fijian","nativeName":"vosa Vakaviti"},{"code":"fi","name":"Finnish","nativeName":"suomi, suomen kieli"},{"code":"fr","name":"French","nativeName":"fran\xe7ais, langue fran\xe7aise"},{"code":"ff","name":"Fula; Fulah; Pulaar; Pular","nativeName":"Fulfulde, Pulaar, Pular"},{"code":"gl","name":"Galician","nativeName":"Galego"},{"code":"ka","name":"Georgian","nativeName":"\u10e5\u10d0\u10e0\u10d7\u10e3\u10da\u10d8"},{"code":"de","name":"German","nativeName":"Deutsch"},{"code":"el","name":"Greek, Modern","nativeName":"\u0395\u03bb\u03bb\u03b7\u03bd\u03b9\u03ba\u03ac"},{"code":"gn","name":"Guaran\xed","nativeName":"Ava\xf1e\u1ebd"},{"code":"gu","name":"Gujarati","nativeName":"\u0a97\u0ac1\u0a9c\u0ab0\u0abe\u0aa4\u0ac0"},{"code":"ht","name":"Haitian; Haitian Creole","nativeName":"Krey\xf2l ayisyen"},{"code":"ha","name":"Hausa","nativeName":"Hausa, \u0647\u064e\u0648\u064f\u0633\u064e"},{"code":"he","name":"Hebrew (modern)","nativeName":"\u05e2\u05d1\u05e8\u05d9\u05ea"},{"code":"hz","name":"Herero","nativeName":"Otjiherero"},{"code":"hi","name":"Hindi","nativeName":"\u0939\u093f\u0928\u094d\u0926\u0940, \u0939\u093f\u0902\u0926\u0940"},{"code":"ho","name":"Hiri Motu","nativeName":"Hiri Motu"},{"code":"hu","name":"Hungarian","nativeName":"Magyar"},{"code":"ia","name":"Interlingua","nativeName":"Interlingua"},{"code":"id","name":"Indonesian","nativeName":"Bahasa Indonesia"},{"code":"ie","name":"Interlingue","nativeName":"Originally called Occidental; then Interlingue after WWII"},{"code":"ga","name":"Irish","nativeName":"Gaeilge"},{"code":"ig","name":"Igbo","nativeName":"As\u1ee5s\u1ee5 Igbo"},{"code":"ik","name":"Inupiaq","nativeName":"I\xf1upiaq, I\xf1upiatun"},{"code":"io","name":"Ido","nativeName":"Ido"},{"code":"is","name":"Icelandic","nativeName":"\xcdslenska"},{"code":"it","name":"Italian","nativeName":"Italiano"},{"code":"iu","name":"Inuktitut","nativeName":"\u1403\u14c4\u1483\u144e\u1450\u1466"},{"code":"ja","name":"Japanese","nativeName":"\u65e5\u672c\u8a9e (\u306b\u307b\u3093\u3054\uff0f\u306b\u3063\u307d\u3093\u3054)"},{"code":"jv","name":"Javanese","nativeName":"basa Jawa"},{"code":"kl","name":"Kalaallisut, Greenlandic","nativeName":"kalaallisut, kalaallit oqaasii"},{"code":"kn","name":"Kannada","nativeName":"\u0c95\u0ca8\u0ccd\u0ca8\u0ca1"},{"code":"kr","name":"Kanuri","nativeName":"Kanuri"},{"code":"ks","name":"Kashmiri","nativeName":"\u0915\u0936\u094d\u092e\u0940\u0930\u0940, \u0643\u0634\u0645\u064a\u0631\u064a\u200e"},{"code":"kk","name":"Kazakh","nativeName":"\u049a\u0430\u0437\u0430\u049b \u0442\u0456\u043b\u0456"},{"code":"km","name":"Khmer","nativeName":"\u1797\u17b6\u179f\u17b6\u1781\u17d2\u1798\u17c2\u179a"},{"code":"ki","name":"Kikuyu, Gikuyu","nativeName":"G\u0129k\u0169y\u0169"},{"code":"rw","name":"Kinyarwanda","nativeName":"Ikinyarwanda"},{"code":"ky","name":"Kirghiz, Kyrgyz","nativeName":"\u043a\u044b\u0440\u0433\u044b\u0437 \u0442\u0438\u043b\u0438"},{"code":"kv","name":"Komi","nativeName":"\u043a\u043e\u043c\u0438 \u043a\u044b\u0432"},{"code":"kg","name":"Kongo","nativeName":"KiKongo"},{"code":"ko","name":"Korean","nativeName":"\ud55c\uad6d\uc5b4 (\u97d3\u570b\u8a9e), \uc870\uc120\ub9d0 (\u671d\u9bae\u8a9e)"},{"code":"ku","name":"Kurdish","nativeName":"Kurd\xee, \u0643\u0648\u0631\u062f\u06cc\u200e"},{"code":"kj","name":"Kwanyama, Kuanyama","nativeName":"Kuanyama"},{"code":"la","name":"Latin","nativeName":"latine, lingua latina"},{"code":"lb","name":"Luxembourgish, Letzeburgesch","nativeName":"L\xebtzebuergesch"},{"code":"lg","name":"Luganda","nativeName":"Luganda"},{"code":"li","name":"Limburgish, Limburgan, Limburger","nativeName":"Limburgs"},{"code":"ln","name":"Lingala","nativeName":"Ling\xe1la"},{"code":"lo","name":"Lao","nativeName":"\u0e9e\u0eb2\u0eaa\u0eb2\u0ea5\u0eb2\u0ea7"},{"code":"lt","name":"Lithuanian","nativeName":"lietuvi\u0173 kalba"},{"code":"lu","name":"Luba-Katanga","nativeName":""},{"code":"lv","name":"Latvian","nativeName":"latvie\u0161u valoda"},{"code":"gv","name":"Manx","nativeName":"Gaelg, Gailck"},{"code":"mk","name":"Macedonian","nativeName":"\u043c\u0430\u043a\u0435\u0434\u043e\u043d\u0441\u043a\u0438 \u0458\u0430\u0437\u0438\u043a"},{"code":"mg","name":"Malagasy","nativeName":"Malagasy fiteny"},{"code":"ms","name":"Malay","nativeName":"bahasa Melayu, \u0628\u0647\u0627\u0633 \u0645\u0644\u0627\u064a\u0648\u200e"},{"code":"ml","name":"Malayalam","nativeName":"\u0d2e\u0d32\u0d2f\u0d3e\u0d33\u0d02"},{"code":"mt","name":"Maltese","nativeName":"Malti"},{"code":"mi","name":"M\u0101ori","nativeName":"te reo M\u0101ori"},{"code":"mr","name":"Marathi (Mar\u0101\u1e6dh\u012b)","nativeName":"\u092e\u0930\u093e\u0920\u0940"},{"code":"mh","name":"Marshallese","nativeName":"Kajin M\u0327aje\u013c"},{"code":"mn","name":"Mongolian","nativeName":"\u043c\u043e\u043d\u0433\u043e\u043b"},{"code":"na","name":"Nauru","nativeName":"Ekakair\u0169 Naoero"},{"code":"nv","name":"Navajo, Navaho","nativeName":"Din\xe9 bizaad, Din\xe9k\u02bceh\u01f0\xed"},{"code":"nb","name":"Norwegian Bokm\xe5l","nativeName":"Norsk bokm\xe5l"},{"code":"nd","name":"North Ndebele","nativeName":"isiNdebele"},{"code":"ne","name":"Nepali","nativeName":"\u0928\u0947\u092a\u093e\u0932\u0940"},{"code":"ng","name":"Ndonga","nativeName":"Owambo"},{"code":"nn","name":"Norwegian Nynorsk","nativeName":"Norsk nynorsk"},{"code":"no","name":"Norwegian","nativeName":"Norsk"},{"code":"ii","name":"Nuosu","nativeName":"\ua188\ua320\ua4bf Nuosuhxop"},{"code":"nr","name":"South Ndebele","nativeName":"isiNdebele"},{"code":"oc","name":"Occitan","nativeName":"Occitan"},{"code":"oj","name":"Ojibwe, Ojibwa","nativeName":"\u140a\u14c2\u1511\u14c8\u142f\u14a7\u140e\u14d0"},{"code":"cu","name":"Old Church Slavonic, Church Slavic, Church Slavonic, Old Bulgarian, Old Slavonic","nativeName":"\u0469\u0437\u044b\u043a\u044a \u0441\u043b\u043e\u0432\u0463\u043d\u044c\u0441\u043a\u044a"},{"code":"om","name":"Oromo","nativeName":"Afaan Oromoo"},{"code":"or","name":"Oriya","nativeName":"\u0b13\u0b21\u0b3c\u0b3f\u0b06"},{"code":"os","name":"Ossetian, Ossetic","nativeName":"\u0438\u0440\u043e\u043d \xe6\u0432\u0437\u0430\u0433"},{"code":"pa","name":"Panjabi, Punjabi","nativeName":"\u0a2a\u0a70\u0a1c\u0a3e\u0a2c\u0a40, \u067e\u0646\u062c\u0627\u0628\u06cc\u200e"},{"code":"pi","name":"P\u0101li","nativeName":"\u092a\u093e\u0934\u093f"},{"code":"fa","name":"Persian","nativeName":"\u0641\u0627\u0631\u0633\u06cc"},{"code":"pl","name":"Polish","nativeName":"polski"},{"code":"ps","name":"Pashto, Pushto","nativeName":"\u067e\u069a\u062a\u0648"},{"code":"pt","name":"Portuguese","nativeName":"Portugu\xeas"},{"code":"qu","name":"Quechua","nativeName":"Runa Simi, Kichwa"},{"code":"rm","name":"Romansh","nativeName":"rumantsch grischun"},{"code":"rn","name":"Kirundi","nativeName":"kiRundi"},{"code":"ro","name":"Romanian, Moldavian, Moldovan","nativeName":"rom\xe2n\u0103"},{"code":"ru","name":"Russian","nativeName":"\u0440\u0443\u0441\u0441\u043a\u0438\u0439 \u044f\u0437\u044b\u043a"},{"code":"sa","name":"Sanskrit (Sa\u1e41sk\u1e5bta)","nativeName":"\u0938\u0902\u0938\u094d\u0915\u0943\u0924\u092e\u094d"},{"code":"sc","name":"Sardinian","nativeName":"sardu"},{"code":"sd","name":"Sindhi","nativeName":"\u0938\u093f\u0928\u094d\u0927\u0940, \u0633\u0646\u068c\u064a\u060c \u0633\u0646\u062f\u06be\u06cc\u200e"},{"code":"se","name":"Northern Sami","nativeName":"Davvis\xe1megiella"},{"code":"sm","name":"Samoan","nativeName":"gagana faa Samoa"},{"code":"sg","name":"Sango","nativeName":"y\xe2ng\xe2 t\xee s\xe4ng\xf6"},{"code":"sr","name":"Serbian","nativeName":"\u0441\u0440\u043f\u0441\u043a\u0438 \u0458\u0435\u0437\u0438\u043a"},{"code":"gd","name":"Scottish Gaelic; Gaelic","nativeName":"G\xe0idhlig"},{"code":"sn","name":"Shona","nativeName":"chiShona"},{"code":"si","name":"Sinhala, Sinhalese","nativeName":"\u0dc3\u0dd2\u0d82\u0dc4\u0dbd"},{"code":"sk","name":"Slovak","nativeName":"sloven\u010dina"},{"code":"sl","name":"Slovene","nativeName":"sloven\u0161\u010dina"},{"code":"so","name":"Somali","nativeName":"Soomaaliga, af Soomaali"},{"code":"st","name":"Southern Sotho","nativeName":"Sesotho"},{"code":"es","name":"Spanish; Castilian","nativeName":"espa\xf1ol, castellano"},{"code":"su","name":"Sundanese","nativeName":"Basa Sunda"},{"code":"sw","name":"Swahili","nativeName":"Kiswahili"},{"code":"ss","name":"Swati","nativeName":"SiSwati"},{"code":"sv","name":"Swedish","nativeName":"svenska"},{"code":"ta","name":"Tamil","nativeName":"\u0ba4\u0bae\u0bbf\u0bb4\u0bcd"},{"code":"te","name":"Telugu","nativeName":"\u0c24\u0c46\u0c32\u0c41\u0c17\u0c41"},{"code":"tg","name":"Tajik","nativeName":"\u0442\u043e\u04b7\u0438\u043a\u04e3, to\u011fik\u012b, \u062a\u0627\u062c\u06cc\u06a9\u06cc\u200e"},{"code":"th","name":"Thai","nativeName":"\u0e44\u0e17\u0e22"},{"code":"ti","name":"Tigrinya","nativeName":"\u1275\u130d\u122d\u129b"},{"code":"bo","name":"Tibetan Standard, Tibetan, Central","nativeName":"\u0f56\u0f7c\u0f51\u0f0b\u0f61\u0f72\u0f42"},{"code":"tk","name":"Turkmen","nativeName":"T\xfcrkmen, \u0422\u04af\u0440\u043a\u043c\u0435\u043d"},{"code":"tl","name":"Tagalog","nativeName":"Wikang Tagalog, \u170f\u1712\u1703\u1705\u1714 \u1706\u1704\u170e\u1713\u1704\u1714"},{"code":"tn","name":"Tswana","nativeName":"Setswana"},{"code":"to","name":"Tonga (Tonga Islands)","nativeName":"faka Tonga"},{"code":"tr","name":"Turkish","nativeName":"T\xfcrk\xe7e"},{"code":"ts","name":"Tsonga","nativeName":"Xitsonga"},{"code":"tt","name":"Tatar","nativeName":"\u0442\u0430\u0442\u0430\u0440\u0447\u0430, tatar\xe7a, \u062a\u0627\u062a\u0627\u0631\u0686\u0627\u200e"},{"code":"tw","name":"Twi","nativeName":"Twi"},{"code":"ty","name":"Tahitian","nativeName":"Reo Tahiti"},{"code":"ug","name":"Uighur, Uyghur","nativeName":"Uy\u01a3urq\u0259, \u0626\u06c7\u064a\u063a\u06c7\u0631\u0686\u06d5\u200e"},{"code":"uk","name":"Ukrainian","nativeName":"\u0443\u043a\u0440\u0430\u0457\u043d\u0441\u044c\u043a\u0430"},{"code":"ur","name":"Urdu","nativeName":"\u0627\u0631\u062f\u0648"},{"code":"uz","name":"Uzbek","nativeName":"zbek, \u040e\u0437\u0431\u0435\u043a, \u0623\u06c7\u0632\u0628\u06d0\u0643\u200e"},{"code":"ve","name":"Venda","nativeName":"Tshiven\u1e13a"},{"code":"vi","name":"Vietnamese","nativeName":"Ti\u1ebfng Vi\u1ec7t"},{"code":"vo","name":"Volap\xfck","nativeName":"Volap\xfck"},{"code":"wa","name":"Walloon","nativeName":"Walon"},{"code":"cy","name":"Welsh","nativeName":"Cymraeg"},{"code":"wo","name":"Wolof","nativeName":"Wollof"},{"code":"fy","name":"Western Frisian","nativeName":"Frysk"},{"code":"xh","name":"Xhosa","nativeName":"isiXhosa"},{"code":"yi","name":"Yiddish","nativeName":"\u05d9\u05d9\u05b4\u05d3\u05d9\u05e9"},{"code":"yo","name":"Yoruba","nativeName":"Yor\xf9b\xe1"},{"code":"za","name":"Zhuang, Chuang","nativeName":"Sa\u026f cue\u014b\u0185, Saw cuengh"}]')},356:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(1),a=n(2),i=function(){function e(){Object(r.a)(this,e)}return Object(a.a)(e,[{key:"encode",value:function(e){for(var t in e);}},{key:"decode",value:function(e){var t=e.split("\n",10),n={},r={type:null,name:null};for(var a in t){var i=t[a],s=i.match(/-----(BEGIN|END)(.+)-----/i);s?(r.type=s[1].trim().toLowerCase(),r.name=s[2].trim().toLowerCase().trim().replaceAll(" ","_")):"begin"===r.type&&r.name&&(n[r.name]||(n[r.name]=[]),n[r.name].push(i))}for(var o in n){var c=n[o];n[o]=c.join("\n")}return n}}]),e}()},357:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return p}));var r=n(1),a=n(2),i=n(47),s=n(107),o=n.n(s),c=n(166),u=n(16),l=n(29),h=n(359),v=n.n(h),d=n(20),f=n(360),y=n(58),p=function(){function t(e){Object(r.a)(this,t),this._privateKey=void 0,this._publicKey=void 0,this._documentFormat=void 0,this._hashAlgorithm=i.a.SHA256,this._documentFormat=e}return Object(a.a)(t,[{key:"privateKey",set:function(e){this._privateKey=e,this._publicKey=u.a.extractPublicKey(e)}},{key:"hash",value:function(e){return l.a.hash(this._hashAlgorithm,e)}},{key:"sign",value:function(e,t){}},{key:"signMessage",value:function(e,t){t=t||this._privateKey;var n=new c.a;n.signature=v.a.sign(t,e,!0);return n.publicKey=u.a.extractPublicKey(t,!0),n.address=u.a.addressByPublicKey(n.publicKey),n.messageHash=this.hash(e),n.document=this._documentFormat.encode(u.a.addressByPublicKey(n.publicKey),n.signature,e),n}},{key:"recoverPublicKey",value:function(e,t){return y.a.createBitcoinCoinMsg().recoverPubKey(e,t)}},{key:"verify",value:function(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,a=this.parseSignature(t),i=o.a.ecdsaRecover(a.signature,a.recid,n);if(r&&e.from(r).toString("hex")!==e.from(i).toString("hex"))return!1;var s=o.a.ecdsaVerify(a.signature,n,r);return s}},{key:"verifyMessage",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;n||(n=this.recoverPublicKey(e,t));var r=y.a.createBitcoinCoinMsg(),a=r.verify(n,d.a.toBuffer(e),t);return a}},{key:"verifyEntity",value:function(e){e.publicKey||(e.publicKey=this.recoverPublicKey(e.signature,e.message));var t=new f.a,n=y.a.createBitcoinCoinMsg();return t.isVerified=n.verify(e.publicKey,e.signature,e.message),t.signature=e,t.publicKey=e.publicKey,t}},{key:"parseSignature",value:function(e){return{signature:e.subarray(0,64),recid:e[64]}}},{key:"serializeSignatureObject",value:function(e){var t=Array.from(e.signature);return t.push(e.recid),Uint8Array.from(t)}}]),t}()}).call(this,n(15).Buffer)},360:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(2),a=n(1),i=Object(r.a)((function e(){Object(a.a)(this,e),this.signature=void 0,this.publicKey=void 0,this.isVerified=!1,this.isVerifiedHash=!1}))},361:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return p}));var r=n(1),a=n(2),i=n(115),s=n(29),o=n(362),c=n.n(o),u=n(228),l=n.n(u),h=n(39),v=n.n(h),d=n(167),f=n.n(d),y=n(229),p=function(){function t(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;Object(r.a)(this,t),this.ecdsa=void 0,this.coinname="BITCOIN",this.curve="secp256k1",this.magicPrefix=void 0,this.ecdsa=l()(n.curve||"secp256k1"),this.coinname=n.coinname,this.magicPrefix=new e(n.magicPrefix)}return Object(a.a)(t,[{key:"magicHash",value:function(t){e.isBuffer(t)||(t=new e(t,"utf8"));var n=new y.MessageBuilder;return n.put(this.magicPrefix),n.putVarInt(t.length),n.put(t),i.a.sha256x2(n.raw())}},{key:"sign",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=this.magicHash(t),a=v.a.fromBuffer(r),i=this.ecdsa.sign(r,e),s=this.ecdsa.ecparams.g.multiply(v.a.fromBuffer(e)),o=this.ecdsa.calcPubKeyRecoveryParam(a,i,s);return this.ecdsa.serializeSigCompact(i,o,null==n||n)}},{key:"verify",value:function(t,n,r){e.isBuffer(n)||(n=new e(n,"base64"));var a=this.recoverPubKey(n,r);if(e.isBuffer(t))return t.toString("hex")===a.toString("hex");var i=f.a.decode(t)[0];return t===f.a.encode(s.a.ripemd160(a),i)}},{key:"recoverPubKey",value:function(t,n){e.isBuffer(t)||(t=new e(t,"base64"));var r=this.magicHash(n),a=v.a.fromBuffer(r),i=this.ecdsa.parseSigCompact(t);return this.ecdsa.recoverPubKey(a,i.signature,i.i).getEncoded(i.compressed)}},{key:"format",value:function(e,t,n){return c()(this.coinname,e,t,n)}}]),t}()}).call(this,n(15).Buffer)},362:function(e,t,n){(function(t){e.exports=function(e,n,r,a){return t.isBuffer(r)&&(r=r.toString("base64")),["-----BEGIN "+e+" SIGNED MESSAGE-----",a,"-----BEGIN "+e+" SIGNATURE-----","Version: coinmsg/v0.1.3","Address: "+n,r,"-----END "+e+" SIGNATURE-----"].join("\n")}}).call(this,n(15).Buffer)},365:function(e){e.exports=JSON.parse('{"title":"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f","attributes":{"email":"Email"}}')},366:function(e){e.exports=JSON.parse('{"restore":{"title":"\u0412\u043e\u0441\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0435 \u043f\u0430\u0440\u043e\u043b\u044f","label":{},"message":{},"attributes":{"email":"Email"}}}')},367:function(e){e.exports=JSON.parse('{"title":"\u0412\u0445\u043e\u0434 \u0432 \u0441\u0438\u0441\u0442\u0435\u043c\u0443","label":{"signIn":"\u0412\u043e\u0439\u0442\u0438","signOut":"\u0412\u044b\u0439\u0442\u0438 \u0438\u0437 \u0441\u0438\u0441\u0442\u0435\u043c\u044b","rememberMe":"\u0417\u0430\u043f\u043e\u043c\u043d\u0438\u0442\u044c \u043c\u0435\u043d\u044f","forgotPass":"\u042f \u043d\u0435 \u043f\u043e\u043c\u043d\u044e \u043f\u0430\u0440\u043e\u043b\u044c","registerNew":"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f \u043d\u043e\u0432\u043e\u0433\u043e \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f","login":"\u041b\u043e\u0433\u0438\u043d","password":"\u041f\u0430\u0440\u043e\u043b\u044c"},"message":{"signInSuccess":"\u0412\u044b \u0432\u043e\u0448\u043b\u0438 \u0432 \u0441\u0438\u0441\u0442\u0435\u043c\u0443","signOutSuccess":"\u0412\u044b \u0432\u044b\u0448\u043b\u0438 \u0438\u0437 \u0441\u0438\u0441\u0442\u0435\u043c\u044b"}}')},368:function(e){e.exports=JSON.parse('{"menu":{"count":"{{quantity}} \u0443\u0432\u0435\u0434\u043e\u043c\u043b\u0435\u043d\u0438\u0439","newMessagesCount":"{{quantity}} new messages","friendRequestsCount":"{{quantity}} friend requests","reportsCount":"{{quantity}} new reports","seeAll":"\u041f\u0440\u043e\u0441\u043c\u043e\u0442\u0440\u0435\u0442\u044c \u0432\u0441\u0435 \u0443\u0432\u0435\u0434\u043e\u043c\u043b\u0435\u043d\u0438\u044f"}}')},369:function(e){e.exports=JSON.parse('{"entity1":{"title":"\u0417\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a","label":{"name":"\u0418\u043c\u044f"},"action":{"send":"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c"},"message":{"hello":"\u041f\u0440\u0438\u0432\u0435\u0442 {{username}}"}}}')},47:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(2),a=n(1),i=Object(r.a)((function e(){Object(a.a)(this,e)}));i.RIPEMD160="ripemd160",i.SHA256="sha256",i.SHA256_X2="sha256.x2",i.SHA512="sha512"},48:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return ObjectHelper}));var _home_vitaliy_common_var_www_social_client_soc_node_modules_babel_runtime_helpers_esm_construct_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(99),_home_vitaliy_common_var_www_social_client_soc_node_modules_babel_runtime_helpers_esm_classCallCheck_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(1),_home_vitaliy_common_var_www_social_client_soc_node_modules_babel_runtime_helpers_esm_createClass_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(2),lodash__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(5),lodash__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_3__),ObjectHelper=function(){function ObjectHelper(){Object(_home_vitaliy_common_var_www_social_client_soc_node_modules_babel_runtime_helpers_esm_classCallCheck_js__WEBPACK_IMPORTED_MODULE_1__.a)(this,ObjectHelper)}return Object(_home_vitaliy_common_var_www_social_client_soc_node_modules_babel_runtime_helpers_esm_createClass_js__WEBPACK_IMPORTED_MODULE_2__.a)(ObjectHelper,null,[{key:"iterate",value:function(e,t){for(var n in e){var r=e[n];if(e.hasOwnProperty(n))lodash__WEBPACK_IMPORTED_MODULE_3___default.a.isPlainObject(r)||lodash__WEBPACK_IMPORTED_MODULE_3___default.a.isArray(r)?this.iterate(r,t):t(e,n)}}},{key:"clone",value:function(e){return lodash__WEBPACK_IMPORTED_MODULE_3___default.a.cloneDeep(e)}},{key:"createClassByName",value:function createClassByName(name){for(var c=eval(name),_len=arguments.length,a=new Array(_len>1?_len-1:0),_key=1;_key<_len;_key++)a[_key-1]=arguments[_key];return Object(_home_vitaliy_common_var_www_social_client_soc_node_modules_babel_runtime_helpers_esm_construct_js__WEBPACK_IMPORTED_MODULE_0__.a)(c,a)}},{key:"isClass",value:function(e){return"function"==typeof e&&e.name}},{key:"isFunction",value:function(e){return"function"==typeof e&&!e.name}},{key:"isObject",value:function(e){return"object"==typeof e}}]),ObjectHelper}()},545:function(e,t){},546:function(e,t){},571:function(e,t){},573:function(e,t){},58:function(e,t,n){"use strict";var r=n(1),a=n(2),i=n(165),s=n(357),o=n(47),c=n(166),u=n(16),l=n(29),h=function(){function e(t){Object(r.a)(this,e),this.signer=void 0,this.hashAlgorithm=o.a.SHA256,this.signer=t}return Object(a.a)(e,[{key:"hash",value:function(e){return l.a.hash(this.hashAlgorithm,e)}},{key:"sign",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,n=this.signer.signMessage(e,t);return n.message=e,n}},{key:"verifyDocument",value:function(e){var t=new i.a("BITCOIN").decode(e);return this.verify(t.signature,t.message)}},{key:"verify",value:function(e,t){var n=new c.a;n.signature=e,n.message=t;var r=this.signer.verifyEntity(n);return r.signature.messageHash=this.hash(t),r.signature.address=u.a.addressByHash(r.signature.publicKey),r}},{key:"recoverPublicKey",value:function(e,t){return this.signer.recoverPublicKey(e,t)}}]),e}(),v=n(361),d=function(){function e(){Object(r.a)(this,e)}return Object(a.a)(e,[{key:"createBitcoinMessageSigner",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=this.createBitcoinSigner();return e&&(t.privateKey=e),new h(t)}},{key:"createBitcoinSigner",value:function(){var e=this.createBitcoinDocumentFormat();return new s.a(e)}},{key:"createBitcoinDocumentFormat",value:function(){return new i.a("BITCOIN")}},{key:"createBitcoinCoinMsg",value:function(){return new v.a({coinname:"BITCOIN",curve:"secp256k1",magicPrefix:"\x18Bitcoin Signed Message:\n"})}}]),e}();t.a=new d},584:function(e,t){},586:function(e,t){},616:function(e,t){},617:function(e,t){},637:function(e,t){},675:function(e,t,n){},676:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),i=n(57),s=n.n(i),o=n(18),c=n(96),u=n(1),l=n(2),h=n(5),v=n.n(h),d=n(99),f=n(48),y=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;Object(u.a)(this,e),this._di=void 0,this._prefix=null,this._di=t,this._prefix=n}return Object(l.a)(e,[{key:"di",get:function(){return this._di},set:function(e){this._di=e}},{key:"createInstance",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=new e(this._di,t);return n.di=this._di,n}},{key:"prepareId",value:function(e){return null==this._prefix?e:this._prefix+"."+e}},{key:"prepareDependencies",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=[];for(var n in e){var r=e[n];r=r.replace("this.",this._prefix+"."),t.push(r)}return t}},{key:"bind",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=this.prepareId(e),a={dependencies:this.prepareDependencies(n),factoryMethod:null};if(f.a.isObject(t))a.factoryMethod=function(){return v.a.cloneDeep(t)};else if(f.a.isFunction(t))a.factoryMethod=t;else{if(!f.a.isClass(t))throw new Error("Unknown type of definition");a.factoryMethod=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return Object(d.a)(t,n)}}this._di.register(r,a)}},{key:"singleton",value:function(e,t){var n,r=this.prepareId(e);if(f.a.isObject(t))n=t;else if(f.a.isFunction(t))n=t();else{if(!f.a.isClass(t))throw new Error("Unknown type of definition");n=new t}this._di.registerInstance(r,n)}},{key:"get",value:function(e){var t=this.prepareId(e);return this._di.resolve(t)}}]),e}(),p=new y,m=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;Object(u.a)(this,e),this._di=void 0,this._di=t}return Object(l.a)(e,[{key:"di",get:function(){return this._di},set:function(e){this._di=e}},{key:"set",value:function(e,t){"object"==typeof t?p.singleton(e,t):"function"==typeof t&&p.bind(e,t)}},{key:"get",value:function(e){var t=v.a.get(this,e);return"object"==typeof t?t:this.di.resolve(e)}}]),e}(),b=new m,g=n(177),O=(new(function(){function e(){Object(u.a)(this,e)}return Object(l.a)(e,[{key:"createDi",value:function(){return g.DiContainer.setContainer(new g.DiContainer),g.DiContainer.getContainer()}}]),e}())).createDi();p.di=O,b.di=O;var k=function(){function e(){Object(u.a)(this,e),this.data={}}return Object(l.a)(e,[{key:"set",value:function(e,t){v.a.set(this.data,e,t)}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return v.a.get(this.data,e,t)}},{key:"load",value:function(e){this.data=e}},{key:"all",value:function(){return this.data}}]),e}(),j=new k,w=n(53),_=n(170),S=function(){function e(){Object(u.a)(this,e)}return Object(l.a)(e,null,[{key:"decode",value:function(e){var t={};for(var n in e)if(e.hasOwnProperty(n)){var r=e[n];v.a.set(t,n,r)}return t}},{key:"encode",value:function(e){return this.reset(),this._encode(e),this.result}},{key:"reset",value:function(){this.result={},this.keyArr=[]}},{key:"_encode",value:function(e){for(var t in e){var n=e[t];this.keyArr.push(t);var r=this.keyArr.join(".");v.a.isObject(n)?this._encode(n):this.result[r]=n,this.keyArr.pop()}}}]),e}();S.keyArr=[],S.result={};n(231),n(342),n(343),n(344),n(345),n(346),n(347),n(34),n(19),n(681),n(685);var E=function(){function e(){Object(u.a)(this,e)}return Object(l.a)(e,null,[{key:"isEmpty",value:function(e){return""===e||void 0===e||null===e||e===[]||e==={}}},{key:"removeEmpty",value:function(e){var t=this;if(v.a.isArray(e)){var n=[];for(var r in e){var a=e[r];(v.a.isObject(a)||Array.isArray(a))&&(a=this.removeEmpty(a)),a&&n.push(a)}return n}if(v.a.isObject(e)){var i={};return Object.keys(e).forEach((function(n){var r=e[n];if(t.isEmpty(r)){if(Array.isArray(r))i[n]=t.removeEmpty(r);else if(r&&"object"===typeof r&&!Array.isArray(r)){var a=t.removeEmpty(r);Object.keys(a).length&&(i[n]=a)}}else i[n]=r})),i}}}]),e}(),N=Object(l.a)((function e(){Object(u.a)(this,e)}));N.SLASH="slash",N.HASH="hash";var P=function(){function e(){Object(u.a)(this,e)}return Object(l.a)(e,null,[{key:"normalize",value:function(t){var n,r=e.trim(t);return R.router.type===N.HASH?n="/#/"+r:R.router.type===N.SLASH&&(n="/"+r),n}},{key:"getMaskUrlArr",value:function(t){var n=window.location.toString();n=n.replace(/#\//g,"");var r=e.getLocation(n);for(var a in t){var i=t[a];e.setParamInSearchParams(r.searchParams,a,i)}return e.generateUri(r)}},{key:"getMaskUrl",value:function(t,n){var r=window.location.toString();r=r.replace(/#\//g,"");var a=e.getLocation(r);return e.setParamInSearchParams(a.searchParams,t,n),this.normalize(e.generateUri(a))}},{key:"parseQueryParamsMap",value:function(t){var n=e.parseQueryParams(t);return n=S.decode(n)}},{key:"parseQueryParams",value:function(e){var t=e.slice(e.indexOf("?")+1).split("&");return t=E.removeEmpty(t),v.a.isEmpty(t)?{}:t.reduce((function(e,t){var n=t.split("="),r=Object(_.a)(n,2),a=r[0],i=r[1];return Object.assign(e,Object(w.a)({},a,decodeURIComponent(i)))}),{})}},{key:"getLocation",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return new URL(null!==e&&void 0!==e?e:window.location)}},{key:"getOrigin",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return e=e||window.location,this.getLocation(e).origin}},{key:"encodeQuery",value:function(e){var t=[];for(var n in e)if(e.hasOwnProperty(n)){var r=this.encodeQueryParam(n,e[n]);t.push(r)}return t.join("&")}},{key:"generateUri",value:function(e){var t=e.pathname;return t=t+"?"+e.searchParams.toString()}},{key:"setParamInSearchParams",value:function(e,t,n){e.delete(t),n&&e.append(t,n)}},{key:"trim",value:function(e){return v.a.trim(e,"/#")}},{key:"encodeQueryParam",value:function(e,t){return encodeURIComponent(e)+"="+encodeURIComponent(t)}}]),e}(),T=Object.freeze({router:{type:"hash"},env:{deprecateIsStrict:!1},get:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;return v.a.get(this,e,t)},copyright:{title:null,url:"https://incloud.shop"},user:{loginRoute:"/authorization/login"},language:{default:"en",languages:["ru","kk","en","tr","de","fr","es"]},oauth:{client:{clientId:"",clientSecret:" ",accessTokenUri:"https://github.com/login/oauth/access_token",authorizationUri:"https://github.com/login/oauth/authorize",redirectUri:P.getOrigin()+"/#/authorization/oauth/callback",scopes:["notifications","gist"]},token:{expiresIn:1234}},webSocket:{startDelay:100}}),R=T;j.load(R);var K=n(3),x=n(4),I=Object(l.a)((function e(){Object(u.a)(this,e)}));I.ALL="ALL",I.SET="SET",I.GET="GET",I.REMOVE="REMOVE";var C=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;Object(u.a)(this,e),this._prefix=void 0,this._initialState={},this._prefix=t}return Object(l.a)(e,[{key:"prefix",get:function(){return this._prefix},set:function(e){this._prefix=e}},{key:"initialState",set:function(e){this._initialState=e}},{key:"actionName",value:function(e){return this.prefix+e}},{key:"assignAttribute",value:function(e,t){var n={};for(var r in t)if(t.hasOwnProperty(r)){var a=t[r];n[a]=e[a]}return n}},{key:"assignObject",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=v.a.clone(t);return delete r.type,Object.assign(n,e,r)}},{key:"run",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this._initialState,t=arguments.length>1?arguments[1]:void 0;return t.type===this.actionName(I.SET)?this.assignObject(e,t):e}},{key:"getState",value:function(){return this.run.bind(this)}}]),e}(),B=function(e){Object(K.a)(n,e);var t=Object(x.a)(n);function n(){return Object(u.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n)}(C),A=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;Object(u.a)(this,e),this._reducerPrefix=null,this._reducer=null,this._initialState={},t&&(this._reducerPrefix=t)}return Object(l.a)(e,[{key:"initialState",get:function(){return this._initialState},set:function(e){this._initialState=e}},{key:"reducerPrefix",get:function(){return this._reducerPrefix}},{key:"reducer",get:function(){return null===this._reducer&&(this._reducer=new B(this.reducerPrefix),this._reducer.initialState=this.initialState),this._reducer},set:function(e){this._reducer=e}},{key:"state",get:function(){return this.reducer.getState()}},{key:"store",get:function(){return b.get("app.store")}},{key:"setValue",value:function(e){e.type=I.SET,this.dispatch(e)}},{key:"_getSelfState",value:function(){return this.store.getState()[this.reducerPrefix]}},{key:"getValue",value:function(e){var t=this._getSelfState();if(t&&t.hasOwnProperty(e))return t[e]}},{key:"dispatch",value:function(e){e.type=this.reducerAction(e.type),this.store.dispatch(e)}},{key:"reducerAction",value:function(e){return this.reducerPrefix+e}}]),e}(),M=function(e){Object(K.a)(n,e);var t=Object(x.a)(n);function n(){return Object(u.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"setDataProvider",value:function(e){this.setValue({dataProvider:e})}},{key:"setEntity",value:function(e){this.setValue({entity:e})}}]),n}(A),L=function(e){Object(K.a)(n,e);var t=Object(x.a)(n);function n(){return Object(u.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"reducerPrefix",get:function(){return"loaderStatus"}},{key:"setStatus",value:function(e){this.setValue({status:e})}},{key:"getStatus",value:function(){return this.getValue("status")||!1}}]),n}(M),D=Object(l.a)((function e(){Object(u.a)(this,e)})),F=function(e){Object(K.a)(n,e);var t=Object(x.a)(n);function n(e){var r;return Object(u.a)(this,n),(r=t.call(this)).stateRepository=void 0,r.stateRepository=e,r}return Object(l.a)(n,[{key:"startLoad",value:function(e){this.stateRepository.setStatus(!0)}},{key:"endLoad",value:function(e){this.stateRepository.setStatus(!1)}},{key:"isLoading",value:function(e){return this.stateRepository.getStatus()}}]),n}(D);var H=function(){function e(){Object(u.a)(this,e),this.reducers={}}return Object(l.a)(e,[{key:"bind",value:function(e,t){this.reducers[e]=t}},{key:"bindFromRepositoryId",value:function(e){var t;t="string"==typeof e?b.get(e):e,this.bind(t.reducerPrefix,t.state)}},{key:"getReducers",value:function(){return this.reducers}},{key:"getReducersFromDomains",value:function(e){var t=v.a.clone(this.reducers);for(var n in e)if(e.hasOwnProperty(n)){var r=e[n];"object"===typeof r.reducers&&Object.assign(t,r.reducers)}return t}}]),e}(),q=new H;var U="loader";!function(e){var t=p.createInstance(e);t.bind("repositories.state.status",L),t.bind("services.status",F,["this.repositories.state.status"])}(U),function(e){var t=p.createInstance(e);q.bindFromRepositoryId(t.get("repositories.state.status"))}(U);var G=function(e){Object(K.a)(n,e);var t=Object(x.a)(n);function n(){return Object(u.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"initialState",get:function(){return{title:null,body:null,onConfirm:null,onHide:null,isVisible:!1}}},{key:"reducerPrefix",get:function(){return"modalConfirm"}},{key:"resetState",value:function(){this.setValue(this.initialState)}},{key:"show",value:function(){this.setValue({isVisible:!0})}},{key:"hide",value:function(){this.setValue({isVisible:!1})}},{key:"setData",value:function(e){this.setValue(e)}}]),n}(M),W=function(e){Object(K.a)(n,e);var t=Object(x.a)(n);function n(e){var r;return Object(u.a)(this,n),(r=t.call(this)).stateRepository=void 0,r.stateRepository=e,r}return Object(l.a)(n,[{key:"show",value:function(e,t,n,r){this.stateRepository.setData({title:e,body:t,onConfirm:n,onHide:r}),this.stateRepository.show()}},{key:"close",value:function(){this.stateRepository.hide()}}]),n}(D);var V="modal";!function(e){var t=p.createInstance(e);t.singleton("repositories.state.confirm",G),t.bind("services.confirm",W,["this.repositories.state.confirm"])}(V),function(e){var t=p.createInstance(e);q.bindFromRepositoryId(t.get("repositories.state.confirm"))}(V);var z=function(e){Object(K.a)(n,e);var t=Object(x.a)(n);function n(){return Object(u.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"reducerPrefix",get:function(){return"securityIdentity"}},{key:"setIdentity",value:function(e){this.setValue({identity:e})}}]),n}(M),Q=n(109),Y=function(e){Object(K.a)(n,e);var t=Object(x.a)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return Object(u.a)(this,n),(e=t.call(this))._class=void 0,e._method=void 0,e.class=r,e.method=a,e}return Object(l.a)(n,[{key:"class",get:function(){return this._class},set:function(e){this._class=e}},{key:"method",get:function(){return this._method},set:function(e){this._method=e}}]),n}(Object(Q.a)(Error)),J=function(){function e(){Object(u.a)(this,e)}return Object(l.a)(e,[{key:"get",value:function(e,t){throw new Y(this,"get")}},{key:"set",value:function(e,t){throw new Y(this,"set")}},{key:"remove",value:function(e){throw new Y(this,"remove")}}]),e}(),X=n(20),Z=function(){function e(){Object(u.a)(this,e)}return Object(l.a)(e,null,[{key:"isolateValue",value:function(e){return v.a.isObject(e)?v.a.cloneDeep(e):e}}]),e}(),$=n(126),ee=n.n($),te=function(){function e(){Object(u.a)(this,e)}return Object(l.a)(e,null,[{key:"encode",value:function(e){return ee.a.utils.hex.fromBytes(e)}},{key:"decode",value:function(e){return ee.a.utils.hex.toBytes(e)}}]),e}(),ne=new(function(){function e(){Object(u.a)(this,e)}return Object(l.a)(e,[{key:"encode",value:function(e,t){var n=e[t],r=n,a=t;n instanceof Uint8Array&&(r=te.encode(n),a=t+":[Uint8Array]"),a!==t&&delete e[t],r!==n&&(e[a]=r)}},{key:"decode",value:function(e,t){var n=t.match(/(.+):\[(.+)]/);if(n){var r=n[1],a=n[2],i=e[t];"Uint8Array"===a&&(i=X.a.toBuffer(i,"hex")),e[r]=i,delete e[t]}}}]),e}()),re=function(){function e(){Object(u.a)(this,e)}return Object(l.a)(e,[{key:"encode",value:function(e){var t=Z.isolateValue(e);return f.a.iterate(t,ne.encode),t}},{key:"decode",value:function(e){var t=Z.isolateValue(e);return f.a.iterate(t,ne.decode),t}}]),e}(),ae=function(){function e(t){Object(u.a)(this,e),this.encoders=void 0,this.encoders=t}return Object(l.a)(e,[{key:"encode",value:function(e){var t=Z.isolateValue(e);for(var n in this.encoders){t=this.encoders[n].encode(t)}return t}},{key:"decode",value:function(e){var t=Z.isolateValue(e),n=this.encoders.reverse();for(var r in n){t=n[r].decode(t)}return t}}]),e}(),ie=function(){function e(){Object(u.a)(this,e)}return Object(l.a)(e,[{key:"encode",value:function(e){return JSON.stringify(e)}},{key:"decode",value:function(e){return JSON.parse(e)}}]),e}(),se=function(e){Object(K.a)(n,e);var t=Object(x.a)(n);function n(){Object(u.a)(this,n);var e=[new re,new ie];return t.call(this,e)}return Object(l.a)(n)}(ae),oe=function(e){Object(K.a)(n,e);var t=Object(x.a)(n);function n(){var e;return Object(u.a)(this,n),(e=t.call(this)).encoder=void 0,e.encoder=new se,e}return Object(l.a)(n,[{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=null,r=localStorage.getItem(e);return v.a.isEmpty(r)||(n=this.encoder.decode(r)),n=v.a.defaultTo(n,t)}},{key:"set",value:function(e,t){var n=this.encoder.encode(t);localStorage.setItem(e,n)}},{key:"remove",value:function(e){localStorage.removeItem(e)}}]),n}(J),ce=function(e){Object(K.a)(n,e);var t=Object(x.a)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return Object(u.a)(this,n),(e=t.call(this))._permanentStorage=void 0,e.permanentStorage=r,e}return Object(l.a)(n,[{key:"permanentStorage",get:function(){return this._permanentStorage},set:function(e){this._permanentStorage=e}},{key:"key",value:function(){throw new Error('Method "key" not implemented!')}},{key:"get",value:function(e){return this.permanentStorage.get(this._key(e))}},{key:"set",value:function(e,t){this.permanentStorage.set(this._key(e),t)}},{key:"remove",value:function(e){this.permanentStorage.remove(this._key(e))}},{key:"_key",value:function(e){return this.key()+"."+e}}]),n}(function(){function e(){Object(u.a)(this,e)}return Object(l.a)(e,[{key:"key",value:function(){throw new Y(this,"key")}},{key:"get",value:function(e,t){throw new Y(this,"get")}},{key:"set",value:function(e,t){throw new Y(this,"set")}},{key:"remove",value:function(e){throw new Y(this,"remove")}}]),e}()),ue=function(e){Object(K.a)(n,e);var t=Object(x.a)(n);function n(){var e;return Object(u.a)(this,n),(e=t.call(this)).permanentStorage=new oe,e}return Object(l.a)(n)}(ce),le=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;Object(u.a)(this,e),this._isAuthenticated=null,this._value=null,this._identity=null,this._value=t,this._identity=n}return Object(l.a)(e,[{key:"isAuthenticated",value:function(){return null===this._isAuthenticated?!v.a.isEmpty(this._value):this._isAuthenticated}},{key:"getToken",value:function(){return this._value}},{key:"getIdentity",value:function(){return this._identity}}]),e}(),he=function(e){Object(K.a)(n,e);var t=Object(x.a)(n);function n(){return Object(u.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"key",value:function(){return"securityToken"}},{key:"setTokenEntity",value:function(e){this.set("tokenEntity",{value:e.getToken(),identity:e.getIdentity()})}},{key:"getTokenEntity",value:function(){var e=this.get("tokenEntity");if(e)return new le(e.value,e.identity)}}]),n}(ue),ve=function(){function e(){Object(u.a)(this,e)}return Object(l.a)(e,[{key:"isAuthenticated",value:function(){return!1}},{key:"getToken",value:function(){return null}},{key:"getIdentity",value:function(){return null}}]),e}(),de=n(84),fe=new(n.n(de).a),ye=Object(l.a)((function e(){Object(u.a)(this,e)}));ye.LOGIN="userAuthLogin",ye.LOGOUT="userAuthLogout",ye.SET_TOKEN_ENTITY="security.setTokenEntity";var pe=function(){function e(){Object(u.a)(this,e)}return Object(l.a)(e,[{key:"init",value:function(){var e=this.getTokenEntity();this._setTokenEntity(e)}},{key:"login",value:function(e){this._setTokenEntity(e),fe.emit(ye.LOGIN,e)}},{key:"logout",value:function(){var e=new ve;this._setTokenEntity(e),fe.emit(ye.LOGOUT)}},{key:"getTokenEntity",value:function(){var e=b.get("security.repositories.storage.token").getTokenEntity();return this._forgeTokenEntity(e)}},{key:"_forgeTokenEntity",value:function(e){return null==e&&(e=new ve),e}},{key:"_setTokenEntity",value:function(e){b.get("security.repositories.storage.token").setTokenEntity(e),b.get("security.repositories.state.identity").setIdentity(e.getIdentity()),fe.emit(ye.SET_TOKEN_ENTITY,e)}}]),e}();var me="security";!function(e){var t=p.createInstance(e);t.bind("repositories.state.identity",(function(){var e=new z;return e.initialState={identity:{}},e})),t.bind("repositories.storage.token",he),t.bind("services.userProvider",pe)}(me),function(e){var t=p.createInstance(e);q.bindFromRepositoryId(t.get("repositories.state.identity"))}(me);var be=function(){function e(){Object(u.a)(this,e)}return Object(l.a)(e,[{key:"isMyRole",value:function(e){var t;return v.a.isArray(e)?t=e:v.a.isString(e)&&(t=[e]),this.isMyRoles(t)}},{key:"isMyRoles",value:function(e){var t=b.get("security.services.userProvider").getTokenEntity();if(!t.isAuthenticated())return!1;if(v.a.isEmpty(t.getIdentity().roles))return!1;var n=v.a.intersection(e,t.getIdentity().roles);return!v.a.isEmpty(n)}}]),e}();var ge;ge="rbac",p.createInstance(ge).bind("services.rbacProvider",be);var Oe={en:{translation:n(349)},ru:{translation:n(350)}},ke=function(e){Object(K.a)(n,e);var t=Object(x.a)(n);function n(){return Object(u.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"key",value:function(){return"languageLocale"}},{key:"setLocale",value:function(e){this.set("locale",e)}},{key:"getLocale",value:function(){return this.get("locale")}}]),n}(ue),je=n(351),we=function(){function e(){Object(u.a)(this,e),this.collection=null}return Object(l.a)(e,[{key:"all",value:function(){return this.collection||this._initCollection(),this.collection}},{key:"oneByLocale",value:function(e){return this.all()[e]}},{key:"_initCollection",value:function(){var e=je;this._fixName(e),this.collection=this._indexCollection(e)}},{key:"_indexCollection",value:function(e){var t={};for(var n in e){var r=e[n];t[r.code]=r}return t}},{key:"_fixName",value:function(e){for(var t in e){var n=e[t],r=v.a.split(n.nativeName,/\s*,\s*/i);n.nativeName=v.a.upperFirst(r[0])}}}]),e}(),_e=n(87),Se=n(682),Ee=function(){function e(){Object(u.a)(this,e),this.bundles={}}return Object(l.a)(e,[{key:"bind",value:function(e,t){this.bundles[e]=t}},{key:"getTranslationsFromDomains",value:function(){var e={};if(!v.a.isEmpty(this.bundles))for(var t in this.bundles){var n=this.bundles[t],r=this.getTranslationsFromDomain(t,n);e=v.a.merge(e,r)}return e}},{key:"getTranslationsFromDomain",value:function(e,t){var n={};for(var r in t){var a=t[r];for(var i in a){var s=a[i];v.a.set(n,r+"."+i+"."+e,s)}}return n}}]),e}(),Ne=new Ee,Pe=function(){function e(){Object(u.a)(this,e)}return Object(l.a)(e,[{key:"init",value:function(){var e=Ne.getTranslationsFromDomains(),t=b.get("language.services.switch").oneSelected();_e.a.use(Se.a).init({resources:e,lng:t.code,interpolation:{escapeValue:!1},react:{wait:!0}})}},{key:"setLocale",value:function(e){this._set(e),b.get("language.repositories.storage.locale").setLocale(e)}},{key:"oneSelected",value:function(){var e=this._getLocale();return b.get("language.repositories.data.language").oneByLocale(e)}},{key:"_getLocale",value:function(){var e,t=b.get("language.repositories.storage.locale").getLocale();return t=t||(null!==(e=R.language.default)&&void 0!==e?e:"en")}},{key:"_set",value:function(e){_e.a.changeLanguage(e)}}]),e}(),Te=function(){function e(){Object(u.a)(this,e)}return Object(l.a)(e,[{key:"all",value:function(){var e=R.language.languages,t={};for(var n in e){var r=e[n],a=b.get("language.repositories.data.language").oneByLocale(r);t[a.code]=a}return t}}]),e}();var Re="language";!function(e){var t=p.createInstance(e);t.bind("repositories.storage.locale",ke),t.bind("repositories.data.language",we),t.bind("services.switch",Pe),t.bind("services.language",Te)}(Re),Ne.bind(Re,Oe);var Ke=n(33),xe=function(){function e(){Object(u.a)(this,e)}return Object(l.a)(e,[{key:"positions",get:function(){return{TOP_LEFT:Ke.b.POSITION.TOP_LEFT,TOP_RIGHT:Ke.b.POSITION.TOP_RIGHT,TOP_CENTER:Ke.b.POSITION.TOP_CENTER,BOTTOM_LEFT:Ke.b.POSITION.BOTTOM_LEFT,BOTTOM_RIGHT:Ke.b.POSITION.BOTTOM_RIGHT,BOTTOM_CENTER:Ke.b.POSITION.BOTTOM_CENTER}}},{key:"types",get:function(){return{INFO:Ke.b.TYPE.INFO,SUCCESS:Ke.b.TYPE.SUCCESS,WARNING:Ke.b.TYPE.WARNING,ERROR:Ke.b.TYPE.ERROR,DEFAULT:Ke.b.TYPE.DEFAULT,DARK:Ke.b.TYPE.DARK}}},{key:"send",value:function(e){var t=e.type;t=t.toLowerCase(),(0,Ke.b[t])(e.message,{position:this.positions[e.position]})}}]),e}(),Ie=Object(l.a)((function e(){Object(u.a)(this,e),this.message=void 0,this.type=void 0,this.position=void 0})),Ce=function(){function e(t){Object(u.a)(this,e),this.repository=void 0,this.repository=t}return Object(l.a)(e,[{key:"positions",get:function(){return{TOP_LEFT:"TOP_LEFT",TOP_RIGHT:"TOP_RIGHT",TOP_CENTER:"TOP_CENTER",BOTTOM_LEFT:"BOTTOM_LEFT",BOTTOM_RIGHT:"BOTTOM_RIGHT",BOTTOM_CENTER:"BOTTOM_CENTER"}}},{key:"types",get:function(){return{INFO:"INFO",SUCCESS:"SUCCESS",WARNING:"WARNING",ERROR:"ERROR",DEFAULT:"DEFAULT",DARK:"DARK"}}},{key:"success",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=new Ie;n.message=e,n.position=t,n.type=this.types.SUCCESS,this.send(n)}},{key:"info",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=new Ie;n.message=e,n.position=t,n.type=this.types.INFO,this.send(n)}},{key:"error",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=new Ie;n.message=e,n.position=t,n.type=this.types.ERROR,this.send(n)}},{key:"send",value:function(e){e.position=e.position||this.positions.BOTTOM_RIGHT,e.type=e.type||this.types.INFO,this.repository.send(e)}}]),e}();!function(e){var t=p.createInstance(e);t.singleton("repositories.view.toast",xe),t.bind("services.toast",Ce,["this.repositories.view.toast"])}("notify");var Be=Object(l.a)((function e(){Object(u.a)(this,e)}));Be.CLIENT_BEFORE_SEND="rpc.client.beforeSend",Be.CLIENT_AFTER_SEND="rpc.client.afterSend",Be.CLIENT_RESPONSE_SUCCESS="rpc.client.success",Be.CLIENT_RESPONSE_ERROR="rpc.client.error";var Ae=function(){function e(){Object(u.a)(this,e)}return Object(l.a)(e,null,[{key:"isDev",value:function(){return"3000"===window.location.port}}]),e}(),Me=new(function(){function e(){Object(u.a)(this,e),this.configCollection=[]}return Object(l.a)(e,[{key:"register",value:function(e){this.configCollection.push(e)}},{key:"initAll",value:function(){for(var e in this.configCollection){(0,this.configCollection[e])(b,fe)}}}]),e}());Me.register((function(e,t){Ae.isDev()&&t.on(Be.CLIENT_AFTER_SEND,(function(e,t){Ae.isDev()&&(console.info("RPC. \u0417\u0430\u043f\u0440\u043e\u0441: ",e),console.info("RPC. \u041e\u0442\u0432\u0435\u0442: ",t))}))}));var Le=n(355),De=n.n(Le),Fe=function(){function e(){Object(u.a)(this,e),this.rpcUrl=null}return Object(l.a)(e,[{key:"send",value:function(e){return De.a.post(this.rpcUrl,e,{headers:{"Content-Type":"application/json"}}).then((function(e){if("application/json"===e.headers["content-type"]){if("object"===typeof e.data)return e.data;throw new Error("Transport error. Parse error.")}throw new Error("Transport error. Content type invalid.")})).catch((function(){throw new Error("Transport error.")}))}}]),e}(),He=n(10),qe=n(7),Ue=n.n(qe),Ge=function(e){Object(K.a)(n,e);var t=Object(x.a)(n);function n(){return Object(u.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n)}(Object(Q.a)(Error)),We=function(e){Object(K.a)(n,e);var t=Object(x.a)(n);function n(){var e;Object(u.a)(this,n);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))).errors=[],e}return Object(l.a)(n,[{key:"setErrors",value:function(e){this.errors=e}},{key:"getErrors",value:function(){return this.errors}}]),n}(Object(Q.a)(Error)),Ve=function(){function e(t,n,r){Object(u.a)(this,e),this.transportRepository=void 0,this.requestEncoder=void 0,this.responseEncoder=void 0,this.transportRepository=t,this.requestEncoder=n,this.responseEncoder=r}return Object(l.a)(e,[{key:"sendRequest",value:function(){var e=Object(He.a)(Ue.a.mark((function e(t){var n,r,a,i;return Ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return fe.emit(Be.CLIENT_BEFORE_SEND,t),n=this.requestEncoder.encode(t),e.prev=2,e.next=5,this.transportRepository.send(n);case 5:if(r=e.sent,a=this.responseEncoder.decode(r),fe.emit(Be.CLIENT_AFTER_SEND,t,a),!v.a.isEmpty(a.error)){e.next=13;break}return fe.emit(Be.CLIENT_RESPONSE_SUCCESS,a),e.abrupt("return",a);case 13:if(401!==a.error.code){e.next=17;break}throw new Ge(a.error.message);case 17:if(-32602!==a.error.code){e.next=23;break}throw(i=new We(a.error.message)).setErrors(a.error.data),i;case 23:throw new Error(a.error.message);case 24:e.next=30;break;case 26:throw e.prev=26,e.t0=e.catch(2),fe.emit(Be.CLIENT_RESPONSE_ERROR,e.t0),e.t0;case 30:case"end":return e.stop()}}),e,this,[[2,26]])})));return function(t){return e.apply(this,arguments)}}()}]),e}(),ze=function(){function e(){Object(u.a)(this,e)}return Object(l.a)(e,[{key:"encode",value:function(e){e.meta="object"===typeof e.meta?e.meta:{},e.meta.version=v.a.isEmpty(e.version)?1:e.version;var t={jsonrpc:"2.0",method:e.method,params:{body:void 0,meta:void 0},id:"undefined"!==typeof e.id?e.id:+new Date};return v.a.isEmpty(e.body)||(t.params.body=e.body),v.a.isEmpty(e.meta)||(t.params.meta=e.meta),t}},{key:"decode",value:function(){}}]),e}(),Qe=function(){function e(){Object(u.a)(this,e)}return Object(l.a)(e,[{key:"encode",value:function(){}},{key:"decode",value:function(e){var t={body:void 0,meta:void 0,error:void 0,id:void 0};if(!v.a.isEmpty(e.result)){var n=e.result;v.a.isEmpty(n.body)||(t.body=n.body),v.a.isEmpty(n.meta)||(t.meta=n.meta)}return v.a.isEmpty(e.error)||(t.error=e.error),t.id=v.a.isEmpty(t.id)?+new Date:t.id,t}}]),e}();!function(e){var t=p.createInstance(e);t.singleton("repositories.api.transport",Fe),t.bind("services.client",(function(){var e=t.get("repositories.api.transport");return new Ve(e,new ze,new Qe)}))}("rpc");var Ye=function(e){Object(K.a)(n,e);var t=Object(x.a)(n);function n(){var e;Object(u.a)(this,n);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))).collection=[],e}return Object(l.a)(n,[{key:"initialState",get:function(){return{collection:[]}}},{key:"reducerPrefix",get:function(){return"breadcrumbItem"}},{key:"add",value:function(e){this.collection.push(e),this._syncState()}},{key:"clear",value:function(){this.collection=[],this._syncState()}},{key:"_syncState",value:function(){this.setValue({collection:this.collection})}}]),n}(M),Je=function(){function e(t){Object(u.a)(this,e),this.itemRepository=void 0,this.itemRepository=t}return Object(l.a)(e,[{key:"clear",value:function(){this.itemRepository.clear()}},{key:"add",value:function(e,t){var n={title:e,route:t};this.itemRepository.add(n)}}]),e}();var Xe="breadcrumb";!function(e){var t=p.createInstance(e);t.singleton("repositories.state.items",Ye),t.bind("services.breadcrumb",Je,["this.repositories.state.items"])}(Xe),function(e){var t=p.createInstance(e);q.bindFromRepositoryId(t.get("repositories.state.items"))}(Xe);var Ze=function(){function e(t){Object(u.a)(this,e),this.url=null,this.connection=null,this.eventHandler=null,this.queryParams={},this.eventHandler=t}return Object(l.a)(e,[{key:"send",value:function(e){var t=b.get("webSocket.libs.requestEncoder").encode(e);this.connection.send(t)}},{key:"open",value:function(){var e=this,t=this._getConnectionUrl();this.connection=new WebSocket(t),this.eventHandler.bindHandlers(this.connection),window.addEventListener("unload",(function(){e.close()}))}},{key:"close",value:function(){this.connection&&this.connection.readyState===WebSocket.OPEN&&this.connection.close()}},{key:"tokenFromCrypto",value:function(){var e=b.get("cryptoAuthorization.services.auth");try{return e.getRpcToken()}catch(t){return null}}},{key:"_getConnectionUrl",value:function(){var e={},t={token:this.tokenFromCrypto()};Object.assign(e,this.queryParams,t);var n=P.encodeQuery(e);return this.url+"?"+n}}]),e}(),$e=Object.freeze({OPEN:"socket.open",CLOSE:"socket.close",BREAK:"socket.break",MESSAGE:"socket.message",ERROR:"socket.error"}),et=Object(l.a)((function e(){Object(u.a)(this,e),this.name=void 0,this.data=void 0})),tt=function(){function e(){Object(u.a)(this,e)}return Object(l.a)(e,[{key:"bindHandlers",value:function(e){e.onopen=this.onOpen,e.onclose=this.onClose,e.onmessage=this.onMessage,e.onerror=this.onError}},{key:"onOpen",value:function(){fe.emit($e.OPEN)}},{key:"onClose",value:function(e){e.wasClean?fe.emit($e.CLOSE,e):fe.emit($e.BREAK,e)}},{key:"onMessage",value:function(e){var t=b.get("webSocket.libs.requestEncoder").decode(e.data),n=new et;n.name=t.name,n.data=t.data,fe.emit($e.MESSAGE,n)}},{key:"onError",value:function(e){fe.emit($e.ERROR,e)}}]),e}();!function(e){var t=p.createInstance(e);t.singleton("services.connection",new Ze(new tt)),t.singleton("libs.requestEncoder",new ie)}("webSocket");var nt=function(){function e(){Object(u.a)(this,e)}return Object(l.a)(e,[{key:"sendRequest",value:function(e){return b.get("rpc.services.client").sendRequest(e)}},{key:"sendByMethod",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r={method:void 0,body:void 0,meta:void 0};return r.method=e,t&&(r.body=t),n&&(r.meta=n),this.sendRequest(r)}}]),e}(),rt=function(e){Object(K.a)(n,e);var t=Object(x.a)(n);function n(){return Object(u.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"send",value:function(){var e=Object(He.a)(Ue.a.mark((function e(t,n){var r,a;return Ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={method:"cryptoMessage.p2p",body:{toAddress:n,document:t}},e.prev=1,e.next=4,this.sendRequest(r);case 4:return a=e.sent,e.abrupt("return",a.body);case 8:throw e.prev=8,e.t0=e.catch(1),e.t0;case 11:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(t,n){return e.apply(this,arguments)}}()}]),n}(nt),at=n(58),it=function(){function e(t,n){Object(u.a)(this,e),this.signerService=void 0,this.documentRepository=void 0,this.signerService=t,this.documentRepository=n}return Object(l.a)(e,[{key:"sign",value:function(e){var t=(new se).encode(e);return this.signerService.sign(t)}},{key:"verify",value:function(e){return at.a.createBitcoinMessageSigner().verifyDocument(e)}},{key:"send",value:function(){var e=Object(He.a)(Ue.a.mark((function e(t,n){var r;return Ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=this.sign(t),b.get("webSocket.services.connection").send({toAddress:n,document:r.document}),e.abrupt("return",null);case 4:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}();!function(e){var t=p.createInstance(e);t.bind("repositories.api.document",rt),t.bind("services.document",it,["signature.services.signer","this.repositories.api.document"])}("crypt");var st=Object(l.a)((function e(){Object(u.a)(this,e)}));st.COMPLETE="HandShake.complete",Me.register((function(e,t){t.on(st.COMPLETE,(function(t){e.get("e2ee.services.p2p").sendAllQueues(t)}))}));var ot=function(){function e(t,n){Object(u.a)(this,e),this.documentService=void 0,this.sessionService=void 0,this.documentService=t,this.sessionService=n}return Object(l.a)(e,[{key:"sendRequest",value:function(e,t){this.sessionService.get(e);this.addQueue(e,t),b.get("e2ee.controllers.handShakeController").start(e)}},{key:"sendAllQueues",value:function(t){if(e.requestQueue[t])for(var n in e.requestQueue[t]){var r=e.requestQueue[t][n];this.sendOneQueue(t,r)}e.requestQueue={}}},{key:"addQueue",value:function(t,n){e.requestQueue[t]=e.requestQueue.hasOwnProperty(t)?e.requestQueue[t]:[],e.requestQueue[t].push(n)}},{key:"sendOneQueue",value:function(e,t){var n=b.get("e2ee.services.tunnel");t.address=e,n.sendRequest(t)}}]),e}();ot.requestQueue={};var ct=function(e){Object(K.a)(n,e);var t=Object(x.a)(n);function n(){var e;Object(u.a)(this,n);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))).sessions={},e}return Object(l.a)(n,[{key:"key",value:function(){return"e2eeSession"}},{key:"save",value:function(e,t){this.set(e,t)}},{key:"_set",value:function(e,t){var n=this.get(e);this.sessions[e]=Object.assign(n,t)}},{key:"oneByAddress",value:function(e){return this.get(e)}}]),n}(ue),ut=function(){function e(){Object(u.a)(this,e)}return Object(l.a)(e,null,[{key:"timestamp",value:function(){return(new Date).getTime()/1e3}}]),e}(),lt=function(){function e(){Object(u.a)(this,e)}return Object(l.a)(e,[{key:"send",value:function(e,t){return b.get("crypt.services.document").send(e,t)}},{key:"helloServer",value:function(e,t,n){var r={method:"handShake.helloClient",sessionId:t,dh:{public:n},createdAt:ut.timestamp()};return this.send(r,e)}},{key:"helloClient",value:function(e,t,n){var r={method:"handShake.getSessionKeys",sessionId:t,dh:{public:n},createdAt:ut.timestamp()};return this.send(r,e)}},{key:"saveSessionKeys",value:function(e,t,n){var r={method:"handShake.saveSessionKeys",sessionId:t,encryptedKeys:n,createdAt:ut.timestamp()};return this.send(r,e)}},{key:"finish",value:function(e,t,n){var r={method:"handShake.finish",sessionId:t,encrypted:n,createdAt:ut.timestamp()};return this.send(r,e)}}]),e}(),ht=function(){function e(t){Object(u.a)(this,e),this.sessions={},this.sessionRepository=void 0,this.sessionRepository=t}return Object(l.a)(e,[{key:"get",value:function(e){var t=this.sessionRepository.oneByAddress(e);return t||(t={}),t.address=e,this.decode(t)}},{key:"persist",value:function(e){this.sessionRepository.save(e.address,this.encode(e))}},{key:"encode",value:function(e){if(e.sessionKeys)for(var t in e.sessionKeys)e.sessionKeys[t]=X.a.toHex(e.sessionKeys[t]);return e.dh&&e.dh.share&&(e.dh.share=X.a.toHex(e.dh.share)),e}},{key:"decode",value:function(e){if(e.sessionKeys)for(var t in e.sessionKeys)e.sessionKeys[t]instanceof Uint8Array||(e.sessionKeys[t]=X.a.encode(e.sessionKeys[t],"hex",X.a.BUFFER));return e.dh&&e.dh.share&&(e.dh.share instanceof Uint8Array||(e.dh.share=X.a.encode(e.dh.share,"hex",X.a.BUFFER))),e}}]),e}(),vt=Object(l.a)((function e(){Object(u.a)(this,e),this.encrypted=void 0,this.iv=void 0,this.salt=void 0,this.mac=void 0})),dt=n(23),ft=n(126),yt=function(){function e(){Object(u.a)(this,e)}return Object(l.a)(e,null,[{key:"encode",value:function(e){return ft.utils.utf8.fromBytes(e)}},{key:"decode",value:function(e){return ft.utils.utf8.toBytes(e)}}]),e}(),pt=n(126),mt=n(148),bt=function(){function e(t){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];Object(u.a)(this,e),this.keyEntity=void 0,this.isCheckMac=!0,this.keyEntity=t,this.isCheckMac=n}return Object(l.a)(e,[{key:"encrypt",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;t=e instanceof Uint8Array?e:yt.decode(e),null==n&&(n=dt.randomBytes(16));var r=new pt.ModeOfOperation.ctr(this.keyEntity.encryptKey,n),a=new vt;return a.encrypted=r.encrypt(t),a.iv=n,a.mac=this.generateHmac(t),a}},{key:"decrypt",value:function(e){var t=new pt.ModeOfOperation.ctr(this.keyEntity.encryptKey,e.iv).decrypt(e.encrypted);return this.checkMac(t,e.mac),t}},{key:"generateHmac",value:function(e){var t=mt.hmac(mt.sha256).update(this.keyEntity.hmacKey).update(e).digest();return new Uint8Array(t)}},{key:"checkMac",value:function(e,t){if(!1!==this.isCheckMac&&!(this.generateHmac(e).toString()===t.toString()))throw new Error("Message Authentication Code (MAC) not valid!")}}]),e}(),gt=n(234),Ot=function(){function e(){Object(u.a)(this,e)}return Object(l.a)(e,null,[{key:"encode",value:function(e){return gt.a.encode(e)}},{key:"decode",value:function(e){return gt.a.decode(e)}}]),e}(),kt=n(32),jt=n.n(kt),wt=n(127),_t=n.n(wt),St=n(128),Et=n.n(St),Nt=Object(l.a)((function e(){Object(u.a)(this,e),this.BASE_98="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789!#$%&()*+,./:;<=>?@[]^_`{|}~\"-\\' \t\n\r"}));Nt.WHITESPACE=" \t\n\r\v\x85\xa0\u2000\u2001\u2002\u2004\u2005\u2006\u2007\u2008\u2009\u200a",Nt.SPEC_CHAR='!#$%&()*+,./:,<=>?@[]^_`{|}~"',Nt.PUNCTUATION="!\"#$%&'()*+,-./:;<=>?@[\\]^_`{|}~",Nt.NUMERIC="0123456789",Nt.ALPHA_UPPER="ABCDEFGHIJKLMNOPQRSTUVWXYZ",Nt.ALPHA_LOWER="abcdefghijklmnopqrstuvwxyz",Nt.BASE_2="01",Nt.BASE_10="0123456789",Nt.BASE_32_HEX="0123456789ABCDEFGHIJKLMNOPQRSTUV",Nt.BASE_32="ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",Nt.BASE_36="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ",Nt.BASE_52="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",Nt.BASE_58="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz",Nt.BASE_62="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",Nt.BASE_64="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Nt.BASE_85="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz!#$%&()*+-,<=>?@^_`{|}~",Nt.Z_85="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ.-:+=^!/*?&<>()[]{}@%$#",Nt.BASE_91='ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789!#$%&()*+,./:;<=>?@[]^_`{|}~"',Nt.BASE_94="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789!#$%&()*+,./:;<=>?@[]^_`{|}~\"-\\'",Nt.PRINTABLE="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ!\"#$%&'()*+,-./:;<=>?@[\\]^_`{|}~ \t\n\r\v\f";var Pt=function(){function e(){Object(u.a)(this,e)}return Object(l.a)(e,null,[{key:"toBase2",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;return this.toBaseX(e,t,Nt.BASE_2)}},{key:"toBase10",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;return this.toBaseX(e,t,Nt.BASE_10)}},{key:"toBase64",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,n={out:"base64"};return t&&(n.in=t),jt()(e,n)}},{key:"toBase58",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;if(t){var n={out:"binary"};t&&(n.in=t),e=jt()(e,n)}return _t.a.encode(e)}},{key:"toBase94",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;return this.toBaseX(e,t,Nt.BASE_94)}},{key:"toBaseX",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,r=Et()(n);if(t){var a={out:"binary"};t&&(a.in=t),e=jt()(e,a)}return r.encode(e)}}]),e}(),Tt=function(){function e(){Object(u.a)(this,e)}return Object(l.a)(e,[{key:"stringify",value:function(e){var t={cipher:e.encrypted,iv:e.iv,mac:e.mac},n=(new se).encode(t);return Pt.toBase64(n)}},{key:"parse",value:function(e){var t=new vt,n=Ot.decode(e),r=(new se).decode(n);return t.encrypted=r.cipher,t.iv=r.iv,t.mac=r.mac,t}}]),e}(),Rt=function(){function e(t,n){Object(u.a)(this,e),this.aes=null,this.format=null,this.aes=t,this.format=n}return Object(l.a)(e,[{key:"encrypt",value:function(e){var t=this.aes.encrypt(e);return this.format.stringify(t)}},{key:"decrypt",value:function(e){var t=this.format.parse(e);return this.aes.decrypt(t)}}]),e}(),Kt=function(){function e(){Object(u.a)(this,e)}return Object(l.a)(e,null,[{key:"createEncoderStringFormat",value:function(e){var t=new bt(e,!1),n=new Tt;return new Rt(t,n)}}]),e}(),xt=function(){function e(t,n){Object(u.a)(this,e),this.documentService=void 0,this.sessionService=void 0,this.documentService=t,this.sessionService=n}return Object(l.a)(e,[{key:"sendRequest",value:function(e){var t={address:e.address,method:e.method,params:e.params,timestamp:e.timestamp},n=JSON.stringify(t),r=this.sessionService.get(e.address),a=Kt.createEncoderStringFormat(r.sessionKeys).encrypt(n),i=b.get("key.services.key").one(),s="-----BEGIN BITCOIN ENCRYPTED MESSAGE-----\n"+a+"\n-----BEGIN ADDRESS-----\n"+e.address+"\n-----BEGIN FROM ADDRESS-----\n"+i.address+"\n-----END BITCOIN ENCRYPTED MESSAGE-----";b.get("webSocket.services.connection").send({toAddress:e.address,document:s})}}]),e}();xt.requestQueue={};var It=b.get("notify.services.toast"),Ct=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;Object(u.a)(this,e),this.documentService=void 0,this.sessionService=void 0,null==t&&(t=b.get("crypt.services.document")),null==n&&(n=b.get("e2ee.services.session")),this.documentService=t,this.sessionService=n}return Object(l.a)(e,[{key:"send",value:function(e,t){return this.documentService.send(e,t)}}]),e}(),Bt=function(e){Object(K.a)(n,e);var t=Object(x.a)(n);function n(){return Object(u.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"start",value:function(e){this.helloServer(e).then()}},{key:"helloServer",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=this.sessionService.get(e),r={},a=this.forgeDhInstance(n,t);a.generateKeys();var i=a.getPublicKey();n.dh=r;var s=b.get("e2ee.repositories.p2p.handShake");return s.helloServer(e,n.sessionId,i).then((function(){})),new Promise((function(){}))}},{key:"helloClient",value:function(e,t){var n=this.sessionService.get(e),r={},a=this.forgeDhInstance(n,t);a.generateKeys();var i=a.getPublicKey(),s=t.dh.public;r.share=a.computeSecret(s),n.dh=r,this.sessionService.persist(n),b.get("e2ee.repositories.p2p.handShake").helloClient(e,n.sessionId,i).then((function(){}))}},{key:"getSessionKeys",value:function(e,t){var n=this.sessionService.get(e),r=this.forgeDhInstance(n,t),a=t.dh.public,i=r.computeSecret(a);n.dh={};var s=this.extractKeysFromShareSecret(i),o={encryptKey:dt.randomBytes(32),hmacKey:dt.randomBytes(32)};this.persistSessionKeys(e,o);var c=Kt.createEncoderStringFormat(s),u={encryptKey:c.encrypt(o.encryptKey),hmacKey:c.encrypt(o.hmacKey)};b.get("e2ee.repositories.p2p.handShake").saveSessionKeys(e,n.sessionId,u).then((function(){}))}},{key:"saveSessionKeys",value:function(e,t){var n=this.sessionService.get(e),r=t.encryptedKeys,a=n.dh.share,i=this.extractKeysFromShareSecret(a),s=Kt.createEncoderStringFormat(i),o={encryptKey:s.decrypt(r.encryptKey),hmacKey:s.decrypt(r.hmacKey)};this.persistSessionKeys(e,o);var c=Kt.createEncoderStringFormat(o);this.sessionService.persist(n),b.get("e2ee.repositories.p2p.handShake").finish(e,n.sessionId,c.encrypt("Hello")).then((function(){}))}},{key:"finish",value:function(e,t){var n=this.sessionService.get(e),r=n.sessionKeys,a=Kt.createEncoderStringFormat(r).decrypt(t.encrypted),i=yt.encode(a);"Hello"===i?It.success("HandShake.finish success!"):It.error("HandShake.finish error"),console.log("finish",i),console.log("finish sessionEntity",n),console.log("finish keyEntity",r)}},{key:"extractKeysFromShareSecret",value:function(e){return{encryptKey:e.slice(0,32),hmacKey:e.slice(33,65)}}},{key:"forgeDhInstance",value:function(e,t){return b.get("e2ee.libs.dh")}},{key:"persistSessionKeys",value:function(e,t){var n=this.sessionService.get(e);n.sessionKeys=v.a.clone(t),this.sessionService.persist(n),fe.emit(st.COMPLETE,e)}}]),n}(Ct),At=n(321);!function(e){var t=p.createInstance(e);t.bind("services.p2p",ot,["crypt.services.document","e2ee.services.session"]),t.singleton("repositories.storage.session",ct),t.singleton("repositories.p2p.handShake",lt),t.bind("services.session",ht,["this.repositories.storage.session"]),t.bind("services.tunnel",xt,["crypt.services.document","e2ee.services.session"]);var n=At.getDiffieHellman("modp5");t.singleton("libs.dh",n),t.bind("controllers.handShakeController",Bt,["crypt.services.document","e2ee.services.session"])}("e2ee");var Mt=Object(l.a)((function e(){Object(u.a)(this,e)}));Mt.NEW_MESSAGE="messenger.newMessage";var Lt=n(60),Dt=n(42),Ft=n(686),Ht=n(687),qt=n(6),Ut=function(e){Object(K.a)(n,e);var t=Object(x.a)(n);function n(e){var r;return Object(u.a)(this,n),(r=t.call(this,e)).state={message:"",errors:{}},r.handleChange=r.handleChange.bind(Object(Dt.a)(r)),r.handleSubmit=r.handleSubmit.bind(Object(Dt.a)(r)),r}return Object(l.a)(n,[{key:"handleChange",value:function(e){var t={};t[e.target.name]=e.target.value,this.setState(t)}},{key:"handleSubmit",value:function(){var e=Object(He.a)(Ue.a.mark((function e(t){var n,r=this;return Ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),this.state.message&&((n={}).message=this.state.message,n.chatId=this.props.chatId,b.get("messenger.services.message").send(n).then((function(){r.state.message="",r.setState(r.state)})));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){return Object(qt.jsx)(Ft.a,{onSubmit:this.handleSubmit,children:Object(qt.jsxs)("div",{className:"input-group",children:[Object(qt.jsx)(Ft.a.Control,{value:this.state.message,onChange:this.handleChange,name:"message",placeholder:"Type Message ..."}),Object(qt.jsx)("span",{className:"input-group-append",children:Object(qt.jsx)(Ht.a,{type:"submit",onClick:this.handleSubmit,children:"Send"})})]})})}}]),n}(r.Component),Gt=Ut;Me.register((function(e,t){t.on($e.MESSAGE,(function(t){"sendMessage"===t.name&&e.get("messenger.services.message").newMessage(t.data)})),t.on(Mt.NEW_MESSAGE,(function(t){var n=e.get("messenger.services.message").getChatId();if("in"===t.direction&&n!==t.chatId){It.info((function(e){e.closeToast,e.toastProps;return Object(qt.jsxs)("div",{children:["New message!",Object(qt.jsx)("br",{}),t.text,Object(qt.jsx)("br",{}),Object(qt.jsx)(Lt.c,{className:"btn btn-xs btn-primary",to:"/messenger/"+t.chatId,children:"Go"}),Object(qt.jsx)(Gt,{chatId:t.chatId})]})}))}}))}));var Wt=function(){function e(){Object(u.a)(this,e),this.filter={},this.sort={},this._page=1,this._perPage=null,this.with=[]}return Object(l.a)(e,[{key:"page",get:function(){return this._page},set:function(e){if(e<1)throw new Error("Page less than 1");this._page=e}},{key:"perPage",get:function(){return this._perPage},set:function(e){if(e<1)throw new Error("Per page less than 1");this._perPage=e}},{key:"getFilterByName",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return v.a.get(this.filter,e,t)}},{key:"addFilter",value:function(e,t){v.a.set(this.filter,e,t)}},{key:"addSort",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";v.a.set(this.sort,e,t)}},{key:"addWith",value:function(e){this.with.push(e)}}]),e}(),Vt=Object(l.a)((function e(){Object(u.a)(this,e),this.collection=[],this.paginator=void 0,this.query=new Wt})),zt=function(){function e(){Object(u.a)(this,e),this._perPage=void 0,this._totalCount=void 0,this._page=void 0,this._lastPage=void 0}return Object(l.a)(e,[{key:"perPage",get:function(){return this._perPage||null},set:function(e){this._perPage=e}},{key:"totalCount",get:function(){return this._totalCount||null},set:function(e){this._totalCount=e}},{key:"page",get:function(){return this._page||1},set:function(e){this._page=e}},{key:"lastPage",get:function(){return Math.ceil(this.totalCount/this.perPage)}}]),e}(),Qt=function(e){Object(K.a)(n,e);var t=Object(x.a)(n);function n(){var e;Object(u.a)(this,n);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a)))._methodPrefix=null,e}return Object(l.a)(n,[{key:"methodPrefix",get:function(){if(null==this._methodPrefix)throw new Error('Not configured attribute "methodPrefix" in CRUD repository!');return this._methodPrefix},set:function(e){this._methodPrefix=e}},{key:"methodName",value:function(e){return this.methodPrefix+"."+e}},{key:"forgeQuery",value:function(e){return null===e&&(e={}),e}},{key:"update",value:function(){var e=Object(He.a)(Ue.a.mark((function e(t){var n,r;return Ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={method:this.methodName("update"),body:t},e.prev=1,e.next=4,this.sendRequest(n);case 4:return r=e.sent,e.abrupt("return",r.body);case 8:throw e.prev=8,e.t0=e.catch(1),e.t0;case 11:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(t){return e.apply(this,arguments)}}()},{key:"deleteById",value:function(){var e=Object(He.a)(Ue.a.mark((function e(t){var n,r;return Ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={method:this.methodName("delete"),body:{id:t}},e.prev=1,e.next=4,this.sendRequest(n);case 4:return r=e.sent,e.abrupt("return",r.body);case 8:throw e.prev=8,e.t0=e.catch(1),e.t0;case 11:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(t){return e.apply(this,arguments)}}()},{key:"oneById",value:function(){var e=Object(He.a)(Ue.a.mark((function e(t){var n,r,a,i=arguments;return Ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=i.length>1&&void 0!==i[1]?i[1]:null,r={method:this.methodName("oneById")},(n=this.forgeQuery(n)).id=t,this._forgeRequestByQuery(r,n),e.prev=5,e.next=8,this.sendRequest(r);case 8:return a=e.sent,e.abrupt("return",a.body);case 12:throw e.prev=12,e.t0=e.catch(5),e.t0;case 15:case"end":return e.stop()}}),e,this,[[5,12]])})));return function(t){return e.apply(this,arguments)}}()},{key:"all",value:function(){var e=Object(He.a)(Ue.a.mark((function e(){var t,n,r,a,i=arguments;return Ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=i.length>0&&void 0!==i[0]?i[0]:null,n={method:this.methodName("all")},this._forgeRequestByQuery(n,t),e.prev=3,e.next=6,this.sendRequest(n);case 6:return r=e.sent,(a=new Vt).collection=r.body,a.paginator=this._createPaginatorFromRequestMeta(r.meta),a.query=t,e.abrupt("return",a);case 14:throw e.prev=14,e.t0=e.catch(3),e.t0;case 17:case"end":return e.stop()}}),e,this,[[3,14]])})));return function(){return e.apply(this,arguments)}}()},{key:"getDataProvider",value:function(){var e=Object(He.a)(Ue.a.mark((function e(){var t,n,r,a,i=arguments;return Ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=i.length>0&&void 0!==i[0]?i[0]:null,n={method:this.methodName("all")},this._forgeRequestByQuery(n,t),e.prev=3,e.next=6,this.sendRequest(n);case 6:return r=e.sent,(a=new Vt).collection=r.body,a.paginator=this._createPaginatorFromRequestMeta(r.meta),a.query=t,e.abrupt("return",a);case 14:throw e.prev=14,e.t0=e.catch(3),e.t0;case 17:case"end":return e.stop()}}),e,this,[[3,14]])})));return function(){return e.apply(this,arguments)}}()},{key:"_forgeRequestByQuery",value:function(e,t){if(t)for(var n in e.body={},t)if(t.hasOwnProperty(n)){var r=t[n],a=v.a.trim(n,"_");"sort"===a&&(a="order"),v.a.set(e.body,a,r)}return e}},{key:"_createPaginatorFromRequestMeta",value:function(e){var t=new zt;return t.page=e.page||1,t.perPage=e.perPage||null,t.totalCount=e.totalCount||0,t}}]),n}(nt),Yt=function(e){Object(K.a)(n,e);var t=Object(x.a)(n);function n(){var e;return Object(u.a)(this,n),(e=t.call(this)).methodPrefix="messenger-chat",e}return Object(l.a)(n)}(Qt),Jt=function(e){Object(K.a)(n,e);var t=Object(x.a)(n);function n(){var e;return Object(u.a)(this,n),(e=t.call(this)).methodPrefix="messenger-message",e}return Object(l.a)(n,[{key:"send",value:function(){var e=Object(He.a)(Ue.a.mark((function e(t){var n;return Ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.methodName("send"),e.prev=1,e.next=4,this.sendByMethod(n,t);case 4:return e.abrupt("return",e.sent);case 7:throw e.prev=7,e.t0=e.catch(1),e.t0;case 10:case"end":return e.stop()}}),e,this,[[1,7]])})));return function(t){return e.apply(this,arguments)}}()}]),n}(Qt),Xt=function(e){Object(K.a)(n,e);var t=Object(x.a)(n);function n(){return Object(u.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"reducerPrefix",get:function(){return"messengerChat"}}]),n}(M),Zt=function(e){Object(K.a)(n,e);var t=Object(x.a)(n);function n(){return Object(u.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"reducerPrefix",get:function(){return"messengerMessage"}},{key:"setChatId",value:function(e){this.setValue({chatId:e})}},{key:"getChatId",value:function(){var e=this.getValue("chatId");return e&&(e=Number(e)),e}}]),n}(M),$t=function(e){Object(K.a)(n,e);var t=Object(x.a)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,a=arguments.length>1?arguments[1]:void 0;return Object(u.a)(this,n),(e=t.call(this))._stateRepository=null,e._repository=null,e._stateRepository=r,e._repository=a,e}return Object(l.a)(n,[{key:"stateRepository",get:function(){return this._stateRepository}},{key:"repository",get:function(){return this._repository}},{key:"update",value:function(){var e=Object(He.a)(Ue.a.mark((function e(t){return Ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.repository.update(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"oneById",value:function(){var e=Object(He.a)(Ue.a.mark((function e(t){var n,r,a=arguments;return Ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.length>1&&void 0!==a[1]?a[1]:null,e.prev=1,e.next=4,this.repository.oneById(t,n);case 4:return r=e.sent,this.stateRepository&&this.stateRepository.setEntity(r),e.abrupt("return",r);case 9:throw e.prev=9,e.t0=e.catch(1),e.t0;case 12:case"end":return e.stop()}}),e,this,[[1,9]])})));return function(t){return e.apply(this,arguments)}}()},{key:"deleteById",value:function(){var e=Object(He.a)(Ue.a.mark((function e(t){var n;return Ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.repository.deleteById(t);case 3:return n=e.sent,e.abrupt("return",n);case 7:throw e.prev=7,e.t0=e.catch(0),e.t0;case 10:case"end":return e.stop()}}),e,this,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"all",value:function(){var e=Object(He.a)(Ue.a.mark((function e(){var t,n,r=arguments;return Ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:null,e.prev=1,e.next=4,this.repository.all(t);case 4:return n=e.sent,this.stateRepository&&this.stateRepository.setDataProvider(n),e.abrupt("return",n);case 9:throw e.prev=9,e.t0=e.catch(1),e.t0;case 12:case"end":return e.stop()}}),e,this,[[1,9]])})));return function(){return e.apply(this,arguments)}}()},{key:"getDataProvider",value:function(){var e=Object(He.a)(Ue.a.mark((function e(){var t,n,r=arguments;return Ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:null,e.prev=1,e.next=4,this.repository.getDataProvider(t);case 4:return n=e.sent,this.stateRepository&&this.stateRepository.setDataProvider(n),e.abrupt("return",n);case 9:throw e.prev=9,e.t0=e.catch(1),e.t0;case 12:case"end":return e.stop()}}),e,this,[[1,9]])})));return function(){return e.apply(this,arguments)}}()}]),n}(D),en=function(e){Object(K.a)(n,e);var t=Object(x.a)(n);function n(){return Object(u.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n)}($t),tn=n(376),nn=n(27),rn=function(e){Object(K.a)(n,e);var t=Object(x.a)(n);function n(){return Object(u.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"close",value:function(){b.get("messenger.repositories.state.message").setChatId(null)}},{key:"allByChatId",value:function(){var e=Object(He.a)(Ue.a.mark((function e(t){var n;return Ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(n={filter:{chatId:null}}).filter.chatId=t,this.all(n);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"all",value:function(){var e=Object(He.a)(Ue.a.mark((function e(){var t,r,a=arguments;return Ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=a.length>0&&void 0!==a[0]?a[0]:null,Object(tn.a)(Object(nn.a)(n.prototype),"all",this).call(this,t),r=t.filter.chatId,b.get("messenger.repositories.state.message").setChatId(r);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"send",value:function(){var e=Object(He.a)(Ue.a.mark((function e(){var t,n=arguments;return Ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.length>0&&void 0!==n[0]?n[0]:null,e.prev=1,e.next=4,this.repository.send(t);case 4:e.next=8;break;case 6:e.prev=6,e.t0=e.catch(1);case 8:case"end":return e.stop()}}),e,this,[[1,6]])})));return function(){return e.apply(this,arguments)}}()},{key:"update",value:function(){var e=Object(He.a)(Ue.a.mark((function e(){var t;return Ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=b.get("messenger.repositories.state.message").getChatId(),this.allByChatId(t);case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"newMessage",value:function(){var e=Object(He.a)(Ue.a.mark((function e(){var t,n,r=arguments;return Ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=r.length>0&&void 0!==r[0]?r[0]:null,n=b.get("messenger.repositories.state.message").getChatId(),fe.emit(Mt.NEW_MESSAGE,t),n===t.chatId&&this.update();case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getChatId",value:function(){return this.stateRepository.getChatId()}}]),n}($t);var an="messenger";!function(e){var t=p.createInstance(e);t.singleton("repositories.api.chat",Yt),t.singleton("repositories.api.message",Jt),t.singleton("repositories.state.chat",Xt),t.singleton("repositories.state.message",Zt),t.bind("services.chat",en,["this.repositories.state.chat","this.repositories.api.chat"]),t.bind("services.message",rn,["this.repositories.state.message","this.repositories.api.message"])}(an),function(e){var t=p.createInstance(e);q.bindFromRepositoryId(t.get("repositories.state.chat")),q.bindFromRepositoryId(t.get("repositories.state.message"))}(an);var sn={ru:{translation:n(365)}},on=function(e){Object(K.a)(n,e);var t=Object(x.a)(n);function n(){return Object(u.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"requestActivationCode",value:function(){var e=Object(He.a)(Ue.a.mark((function e(t){var n,r;return Ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={method:"userRegistration.requestActivationCode",body:t},e.prev=1,e.next=4,this.sendRequest(n);case 4:return r=e.sent,e.abrupt("return",r.body);case 8:throw e.prev=8,e.t0=e.catch(1),e.t0;case 11:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(t){return e.apply(this,arguments)}}()},{key:"createAccount",value:function(){var e=Object(He.a)(Ue.a.mark((function e(t){var n,r;return Ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={method:"userRegistration.createAccount",body:t},e.prev=1,e.next=4,this.sendRequest(n);case 4:return r=e.sent,e.abrupt("return",r.body);case 8:throw e.prev=8,e.t0=e.catch(1),e.t0;case 11:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(t){return e.apply(this,arguments)}}()}]),n}(nt),cn=function(e){Object(K.a)(n,e);var t=Object(x.a)(n);function n(){return Object(u.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"key",value:function(){return"userRegistration"}},{key:"setRequestForm",value:function(e){this.set("requestForm",e)}},{key:"getRequestForm",value:function(){return this.get("requestForm")}}]),n}(ue),un=function(){function e(t){Object(u.a)(this,e),this.registrationRpcRepository=void 0,this.registrationRpcRepository=t}return Object(l.a)(e,[{key:"requestActivationCode",value:function(){var e=Object(He.a)(Ue.a.mark((function e(t){return Ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.registrationRpcRepository.requestActivationCode(t);case 3:b.get("registration.repositories.storage.registration").setRequestForm(t),e.next=9;break;case 6:throw e.prev=6,e.t0=e.catch(0),e.t0;case 9:case"end":return e.stop()}}),e,this,[[0,6]])})));return function(t){return e.apply(this,arguments)}}()},{key:"createAccount",value:function(){var e=Object(He.a)(Ue.a.mark((function e(t){return Ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.registrationRpcRepository.createAccount(t);case 3:b.get("registration.repositories.storage.registration").setRequestForm(null),e.next=9;break;case 6:throw e.prev=6,e.t0=e.catch(0),e.t0;case 9:case"end":return e.stop()}}),e,this,[[0,6]])})));return function(t){return e.apply(this,arguments)}}()},{key:"getRequestForm",value:function(){return b.get("registration.repositories.storage.registration").getRequestForm()}}]),e}();var ln="registration";!function(e){var t=p.createInstance(e);t.singleton("repositories.api.registration",on),t.singleton("repositories.storage.registration",cn),t.bind("services.registration",un,["this.repositories.api.registration"])}(ln),Ne.bind(ln,sn);var hn={ru:{translation:n(366)}},vn=function(e){Object(K.a)(n,e);var t=Object(x.a)(n);function n(){return Object(u.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"requestActivationCode",value:function(){var e=Object(He.a)(Ue.a.mark((function e(t){var n,r;return Ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={method:"restorePassword.requestActivationCode",body:t},e.prev=1,e.next=4,this.sendRequest(n);case 4:return r=e.sent,e.abrupt("return",r.body);case 8:throw e.prev=8,e.t0=e.catch(1),e.t0;case 11:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(t){return e.apply(this,arguments)}}()},{key:"createPassword",value:function(){var e=Object(He.a)(Ue.a.mark((function e(t){var n,r;return Ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={method:"restorePassword.createPassword",body:t},e.prev=1,e.next=4,this.sendRequest(n);case 4:return r=e.sent,e.abrupt("return",r.body);case 8:throw e.prev=8,e.t0=e.catch(1),e.t0;case 11:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(t){return e.apply(this,arguments)}}()}]),n}(nt),dn=function(e){Object(K.a)(n,e);var t=Object(x.a)(n);function n(){return Object(u.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"updatePassword",value:function(){var e=Object(He.a)(Ue.a.mark((function e(t){var n,r;return Ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={method:"updatePassword.update",body:t},e.prev=1,e.next=4,this.sendRequest(n);case 4:return r=e.sent,e.abrupt("return",r.body);case 8:throw e.prev=8,e.t0=e.catch(1),e.t0;case 11:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(t){return e.apply(this,arguments)}}()}]),n}(nt),fn=function(e){Object(K.a)(n,e);var t=Object(x.a)(n);function n(){return Object(u.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"key",value:function(){return"userRestorePassword"}},{key:"setRequestForm",value:function(e){this.set("requestForm",e)}},{key:"getRequestForm",value:function(){return this.get("requestForm")}}]),n}(ue),yn=function(){function e(t,n){Object(u.a)(this,e),this.rpcRepository=void 0,this.storageRepository=void 0,this.rpcRepository=t,this.storageRepository=n}return Object(l.a)(e,[{key:"requestActivationCode",value:function(){var e=Object(He.a)(Ue.a.mark((function e(t){return Ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.rpcRepository.requestActivationCode(t);case 3:this.storageRepository.setRequestForm(t),e.next=9;break;case 6:throw e.prev=6,e.t0=e.catch(0),e.t0;case 9:case"end":return e.stop()}}),e,this,[[0,6]])})));return function(t){return e.apply(this,arguments)}}()},{key:"createPassword",value:function(){var e=Object(He.a)(Ue.a.mark((function e(t){return Ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.rpcRepository.createPassword(t);case 3:this.storageRepository.setRequestForm(null),e.next=9;break;case 6:throw e.prev=6,e.t0=e.catch(0),e.t0;case 9:case"end":return e.stop()}}),e,this,[[0,6]])})));return function(t){return e.apply(this,arguments)}}()},{key:"getRequestForm",value:function(){return this.storageRepository.getRequestForm()}}]),e}(),pn=function(){function e(t){Object(u.a)(this,e),this.rpcRepository=void 0,this.rpcRepository=t}return Object(l.a)(e,[{key:"updatePassword",value:function(){var e=Object(He.a)(Ue.a.mark((function e(t){return Ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.rpcRepository.updatePassword(t);case 3:e.next=8;break;case 5:throw e.prev=5,e.t0=e.catch(0),e.t0;case 8:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(t){return e.apply(this,arguments)}}()}]),e}();var mn="password";!function(e){var t=p.createInstance(e);t.singleton("repositories.api.restorePassword",vn),t.singleton("repositories.storage.restorePassword",fn),t.bind("services.restorePassword",yn,["this.repositories.api.restorePassword","this.repositories.storage.restorePassword"]),t.singleton("repositories.api.updatePassword",dn),t.bind("services.updatePassword",pn,["this.repositories.api.updatePassword"])}(mn),Ne.bind(mn,hn);var bn={ru:{translation:n(367)}},gn=function(e){Object(K.a)(n,e);var t=Object(x.a)(n);function n(){return Object(u.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"getTokenByForm",value:function(){var e=Object(He.a)(Ue.a.mark((function e(t){var n,r;return Ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={method:"authentication.getToken",body:t},e.prev=1,e.next=4,this.sendRequest(n);case 4:return r=e.sent,e.abrupt("return",r.body);case 8:throw e.prev=8,e.t0=e.catch(1),e.t0;case 11:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(t){return e.apply(this,arguments)}}()}]),n}(nt),On=function(){function e(t){Object(u.a)(this,e),this.authRpcRepository=void 0,this.userProvider=void 0,this.authRpcRepository=t}return Object(l.a)(e,[{key:"authByForm",value:function(){var e=Object(He.a)(Ue.a.mark((function e(t){var n,r;return Ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.authRpcRepository.getTokenByForm(t);case 3:return n=e.sent,r=new le(n.token,n.identity),b.get("security.services.userProvider").login(r),e.abrupt("return",r);case 9:throw e.prev=9,e.t0=e.catch(0),e.t0;case 12:case"end":return e.stop()}}),e,this,[[0,9]])})));return function(t){return e.apply(this,arguments)}}()}]),e}();var kn="authorization";!function(e){var t=p.createInstance(e);t.singleton("repositories.api.auth",gn),t.bind("services.auth",On,["this.repositories.api.auth"])}(kn),Ne.bind(kn,bn);var jn={ru:{translation:n(368)}},wn=function(e){Object(K.a)(n,e);var t=Object(x.a)(n);function n(){return Object(u.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"getDataProvider",value:function(){var e=Object(He.a)(Ue.a.mark((function e(){var t,n,r=arguments;return Ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:null,e.prev=1,(n=new Vt).collection=this.getItems(),n.paginator=this._createPaginatorFromRequestMeta(),n.query=t,e.abrupt("return",n);case 9:throw e.prev=9,e.t0=e.catch(1),e.t0;case 12:case"end":return e.stop()}}),e,this,[[1,9]])})));return function(){return e.apply(this,arguments)}}()},{key:"_createPaginatorFromRequestMeta",value:function(){var e=new zt;return e.page=1,e.perPage=99999999,e.totalCount=this.getItems().length,e}}]),n}(Object(l.a)((function e(){Object(u.a)(this,e)}))),_n=function(e){Object(K.a)(n,e);var t=Object(x.a)(n);function n(){return Object(u.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"getItems",value:function(){return[{icon:"fas fa-envelope",count:4,content:"4 new messages",createdAt:Date.now()-6e4},{icon:"fas fa-users",count:5,content:"5 friend requests",createdAt:Date.now()-72e5},{icon:"fas fa-file",count:3,content:"3 new reports",createdAt:Date.now()-864e5}]}}]),n}(wn),Sn=function(e){Object(K.a)(n,e);var t=Object(x.a)(n);function n(){return Object(u.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n)}($t);var En="notification";!function(e){var t=p.createInstance(e);t.singleton("repositories.api.summary",_n),t.bind("services.summary",(function(e){return new Sn(null,e)}),["this.repositories.api.summary"])}(En),Ne.bind(En,jn);var Nn={ru:{translation:n(369)}};Ne.bind("i18next",Nn);var Pn=n(370),Tn=n.n(Pn),Rn=function(){function e(t){if(Object(u.a)(this,e),this._cost=void 0,this._salt="salt",this._keyLengthBytes=32,t<1)throw new Error("Cost not can be less then 1");this._cost=t}return Object(l.a)(e,[{key:"salt",get:function(){return this._salt},set:function(e){if(e.length<3)throw new Error("Salt length not can be less then 3");this._salt=e}},{key:"keyLengthBytes",get:function(){return this._keyLengthBytes},set:function(e){this._keyLengthBytes=e}},{key:"hash",value:function(e){var t=e,n=this._cost;return Tn()(t,this._salt,n,this._keyLengthBytes)}}]),e}(),Kn=function(e){Object(K.a)(n,e);var t=Object(x.a)(n);function n(){var e;Object(u.a)(this,n),(e=t.call(this)).cost=9e3;var r=new Rn(e.cost);return e.setHasher(r),e}return Object(l.a)(n)}(function(){function e(){Object(u.a)(this,e),this.hasher=void 0}return Object(l.a)(e,[{key:"setHasher",value:function(e){this.hasher=e}},{key:"all",value:function(e,t){var n={};return n.entropy=this.generateEntropyByLogin(e,t),n.password=this.generatePasswordHash(e,t),n}},{key:"generateEntropyByLogin",value:function(e,t){var n=["entropy",e],r=this.prepareValue(n);return this.hasher.hash(r)}},{key:"generatePasswordHash",value:function(e,t){var n=["password",t,e],r=this.prepareValue(n);return this.hasher.hash(r)}},{key:"prepareValue",value:function(e){for(var t in e)e.hasOwnProperty(t)&&(e[t]=v.a.trim(e[t]));return e.join("|")}}]),e}()),xn=n(49),In=n(16),Cn=n(371),Bn=n.n(Cn),An=function(){function e(t){Object(u.a)(this,e),this.hdKey=void 0,this.encrypt={isEnabled:!1,password:null},this.indexEntityPattern={purpose:44,coin:0,account:0,chain:0,address:0},this.seedBuffer=void 0,this.entropy=void 0,this.seedBuffer=t,this.hdKey=Bn.a.fromMasterSeed(t)}return Object(l.a)(e,[{key:"oneBySeed",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n={root:{privateExtendedKey:null,publicExtendedKey:null},child:{}};n.root.privateExtendedKey=this.hdKey.privateExtendedKey,n.root.publicExtendedKey=this.hdKey.publicExtendedKey;var r=f.a.clone(this.indexEntityPattern);return r.address=e,n.child=this.allChild(r,t),n}},{key:"allChild",value:function(e,t){for(var n=[],r=e.address,a=r;a<r+t;a++)e.address=a,n.push(this.oneChild(e));return n}},{key:"oneChild",value:function(e){var t=this._entityToIndex(e),n=this.hdKey.derive(t),r={index:null,address:null,publicKey:{extended:null,binary:null,hex:null,hash160:null,hash160Hex:null},privateKey:{extended:null,wif:null,wifEncrypted:null}};return r.index=t,r.address=In.a.addressByPublicKey(n.publicKey),r.publicKey.extended=n.publicExtendedKey,r.publicKey.binary=n.publicKey,r.publicKey.hex=n.publicKey.toString("hex"),r.publicKey.hash160=In.a.hashByPublicKey(n.publicKey),r.publicKey.hash160Hex=In.a.hashByPublicKey(n.publicKey).toString("hex"),r.privateKey.extended=n.privateExtendedKey,r.privateKey.wif=In.a.privateKeyToWif(n.privateKey,!0),this.encrypt.isEnabled&&(r.privateKey.wifEncrypted=In.a.encryptPrivateKey(n.privateKey,this.encrypt.password)),r}},{key:"_entityToIndex",value:function(e){return"m/"+e.purpose+"'/"+e.coin+"'/"+e.account+"'/"+e.chain+"/"+e.address}}]),e}(),Mn=function(){function e(){Object(u.a)(this,e)}return Object(l.a)(e,null,[{key:"seedToHdKeyPair",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n={purpose:44,coin:0,account:0,chain:0,address:t};return this.seedToHdKeys(e,t,1,n)}},{key:"seedToHdKeys",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;"string"===typeof e&&(e=X.a.toBuffer(e,"hex"));var a=new An(e);return r&&(a.indexEntityPattern=r),a.oneBySeed(t,n)}},{key:"mnemonicToEntity",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=xn.validateMnemonic(e);if(!n)throw new Error("Bad mnemonic!");var r={seed:void 0,entropy:void 0,wif:void 0,privateKey:void 0,publicKey:void 0,address:void 0};return r.seed=xn.mnemonicToSeedSync(e,t).toString("hex"),r.entropy=xn.mnemonicToEntropy(e),r.wif=this.seedHexToPrivateKeyWif(r.seed),r.privateKey=In.a.wifPrivateKeyToBinary(r.wif),r.publicKey=In.a.extractPublicKeyFromWif(r.wif),r.address=In.a.addressByPublicKey(r.publicKey),r}},{key:"generateMnemonicWithEntropy",value:function(){var e={mnemonic:void 0,entropy:void 0};return e.mnemonic=xn.generateMnemonic(),e.entropy=xn.mnemonicToEntropy(e.mnemonic),e}},{key:"generateMnemonic",value:function(){return xn.generateMnemonic()}},{key:"entropyToSeed",value:function(e,t){var n=xn.entropyToMnemonic(e);if(xn.validateMnemonic(n))return xn.mnemonicToSeedSync(n,t);throw new Error("Bad mnemonic!")}},{key:"mnemonicToSeed",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=xn.validateMnemonic(e);if(n)return xn.mnemonicToSeedSync(e,t);throw new Error("Bad mnemonic!")}},{key:"seedHexToPrivateKeyWif",value:function(e){var t=this.seedToHdKeyPair(e,0);return t.child[0].privateKey.wif}}]),e}(),Ln=function(){function e(){Object(u.a)(this,e)}return Object(l.a)(e,null,[{key:"forgeTokenEntity",value:function(e){var t=this._forgeIdentityEntity(e),n=this._forgeTokenString(e);return new le(n,t)}},{key:"_forgeTokenString",value:function(e){return"crypto "+e.publicKey.toString("hex")}},{key:"_forgeIdentityEntity",value:function(e){return{id:In.a.hashByPublicKey(e.publicKey).toString("hex"),statusId:100,username:e.address,roles:["rCryptoUser"]}}}]),e}(),Dn=Object.freeze({connections:[{rpcUrl:"http://server.soc/json-rpc",webSocketUrl:"ws://server.soc:8002"}]}),Fn=function(){function e(t){Object(u.a)(this,e),this.loginKey=void 0,this.loginKey=t}return Object(l.a)(e,[{key:"getRpcToken",value:function(){var e=Dn.connections[0],t=new URL(e.webSocketUrl),n=JSON.stringify({hostname:t.hostname,timestamp:ut.timestamp()}),r=b.get("signature.services.signer").sign(n);return"crypto "+X.a.toHex(r.document)}},{key:"seedByLogin",value:function(e,t){var n=this.loginKey.generateEntropyByLogin(e,t),r=this.loginKey.generatePasswordHash(e,t),a=Pt.toBase94(r);return Mn.entropyToSeed(n,a)}},{key:"authByLogin",value:function(e,t){var n=this.seedByLogin(e,t);return this.authBySeed(n)}},{key:"authByMnemonic",value:function(e,t){var n=Mn.mnemonicToSeed(e,t);return this.authBySeed(n)}},{key:"authBySeed",value:function(e){var t=Mn.seedHexToPrivateKeyWif(e);this.authByPrivateKeyWif(t)}},{key:"authByPrivateKeyWif",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=In.a.decryptPrivateKey(e,t);e=In.a.binaryPrivateKeyToWif(n);var r=b.get("key.services.key");r.savePrivateKey(e);var a=r.one(),i=Ln._forgeIdentityEntity(a),s=this.getRpcToken(),o=new le(s,i);return b.get("security.services.userProvider").login(o),o}}]),e}();!function(e){var t=p.createInstance(e);t.singleton("libs.loginKey",Kn),t.bind("services.auth",Fn,["this.libs.loginKey"])}("cryptoAuthorization");var Hn=function(e){Object(K.a)(n,e);var t=Object(x.a)(n);function n(){return Object(u.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"key",value:function(){return"cryptKey"}},{key:"savePrivateKey",value:function(e,t){this.set("privateKey",e)}},{key:"one",value:function(){var e=this.get("privateKey");if(e)return In.a.forgeEntity(e);throw new Error("Not found key")}},{key:"__forgeEntity2",value:function(e){e.privateKeyWif=e.privateKey,e.privateKey=In.a.wifPrivateKeyToBinary(e.privateKey),e.publicKey=In.a.extractPublicKeyFromWif(e.privateKeyWif),e.publicHash=In.a.hashByPublicKey(e.publicKey),e.address=In.a.addressByPublicKey(e.publicKey)}}]),n}(ue),qn=function(){function e(t,n){Object(u.a)(this,e),this.keyRepository=void 0,this.messageSigner=void 0,this.keyRepository=t,this.messageSigner=n}return Object(l.a)(e,[{key:"sign",value:function(e){var t=b.get("key.services.key").one();return t.privateKey||new Error("Not found private key!"),this.messageSigner.sign(e,t.privateKey)}},{key:"verify",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;return this.messageSigner.verify(e,t,n)}},{key:"recoverPublicKey",value:function(e,t){return this.messageSigner.recoverPublicKey(e,t)}}]),e}();!function(e){p.createInstance(e).bind("services.signer",(function(){var e=new Hn,t=at.a.createBitcoinMessageSigner();return new qn(e,t)}))}("signature");var Un=function(e){Object(K.a)(n,e);var t=Object(x.a)(n);function n(){return Object(u.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"sendMessage",value:function(e){It.info(e)}}]),n}(Ct),Gn=n(114),Wn=function(){function e(){Object(u.a)(this,e)}return Object(l.a)(e,[{key:"routesConfig",value:function(){return{routes:{},controllers:{handShake:b.get("e2ee.controllers.handShakeController"),messenger:new Un}}}},{key:"handle",value:function(e){var t=at.a.createBitcoinDocumentFormat(),n=t.getType(e.document);if(n===Gn.a.SIGNED){var r=this.parseDocument(e.document),a=r.address,i=r.request,s=i.method,o=this.getRouteHandler(s),c=o.controllerDefinition,u=o.actionMethodName;return this.getActionInstance(c,u,a)(a,i)}if(n===Gn.a.ENCRYPTED){var l=t.parse(e.document),h=l.from_address,v=b.get("e2ee.services.session").get(h);console.log("sessionEntity11111111111111111",v),console.log("decodedDocument",l)}}},{key:"getRouteHandler",value:function(e){var t,n,r=e.split("."),a=Object(_.a)(r,2),i=a[0],s=a[1],o=this.routesConfig(),c=o.routes[e]?o.routes[e]:null;return c?(n=c.controller,t=c.action):(n=o.controllers[i]?o.controllers[i]:null,t=s),{controllerDefinition:n,actionMethodName:t}}},{key:"getActionInstance",value:function(e,t,n){var r=this.controllerDefinitionToInstance(e),a=r[t];return a=a.bind(r)}},{key:"controllerDefinitionToInstance",value:function(e){var t;if("string"===typeof e)t=b.get(e);else{if("object"!==typeof e)throw new Error("Bad type of controller");t=e}return t}},{key:"parseDocument",value:function(t){var n=e.verify(t),r=n.signature.address,a=n.signature.message;return{address:r,request:(new se).decode(a)}}}],[{key:"verify",value:function(e){var t=b.get("crypt.services.document").verify(e);if(!t.isVerified)throw new Error("Bad signature!");return t}}]),e}();fe.on($e.MESSAGE,(function(e){if("cryptoMessage.p2p"===e.name){var t=new Wn,n=e.data;t.handle(n)}}));!function(e){p.createInstance(e)}("transport");var Vn=Object(l.a)((function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;Object(u.a)(this,e),this.id=void 0,this.address=void 0,this.method=void 0,this.params=void 0,this.timestamp=void 0,t&&(this.method=t),n&&(this.params=n),this.timestamp=ut.timestamp(),this.id=this.timestamp.toString()+"-"+Pt.toBase58(dt.randomBytes(16)).slice()})),zn=function(){function e(t){Object(u.a)(this,e),this.p2pService=void 0,this.p2pService=t}return Object(l.a)(e,[{key:"send",value:function(e,t){var n=new Vn("messenger.sendMessage",{message:t,createdAt:ut.timestamp()});this.p2pService.sendRequest(e,n)}}]),e}();!function(e){p.createInstance(e).bind("services.message",zn,["e2ee.services.p2p"])}("cryptoMessenger");!function(e){p.createInstance(e)}("encrypt");var Qn=function(e){Object(K.a)(n,e);var t=Object(x.a)(n);function n(){return Object(u.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"key",value:function(){return"cryptHdKey"}},{key:"savePrivateKey",value:function(e,t){this.set("privateKey",e)}},{key:"one",value:function(){var e=this.get("privateKey");return In.a.forgeEntity(e)}},{key:"__forgeEntity2",value:function(e){e.isCompressed=In.a.isCompressedPrivateKey(e.privateKey),e.privateKey=In.a.wifPrivateKeyToBinary(e.privateKey),e.publicKey=In.a.extractPublicKey(e.privateKey,e.isCompressed),e.publicHash=In.a.hashByPublicKey(e.publicKey),e.address=In.a.addressByPublicKey(e.publicKey)}}]),n}(ue),Yn=function(){function e(t){Object(u.a)(this,e),this.keyRepository=void 0,this.keyRepository=t}return Object(l.a)(e,[{key:"getPublicKey",value:function(){return this.keyRepository.one().publicKey}},{key:"getAddress",value:function(){var e=this.getPublicKey();return In.a.addressByPublicKey(e)}},{key:"one",value:function(){return this.keyRepository.one()}},{key:"savePrivateKey",value:function(e){In.a.wifPrivateKeyToBinary(e);this.keyRepository.savePrivateKey(e)}}]),e}();!function(e){var t=p.createInstance(e),n=new Hn;t.bind("repositories.storage.hdKey",Qn),t.bind("repositories.api.document",rt),t.bind("services.key",(function(){return new Yn(n)}))}("key");var Jn=function(e){Object(K.a)(n,e);var t=Object(x.a)(n);function n(){var e;return Object(u.a)(this,n),(e=t.call(this)).methodPrefix="shopCategory",e}return Object(l.a)(n)}(Qt),Xn=function(e){Object(K.a)(n,e);var t=Object(x.a)(n);function n(){var e;return Object(u.a)(this,n),(e=t.call(this)).methodPrefix="shopProduct",e}return Object(l.a)(n)}(Qt),Zn=function(e){Object(K.a)(n,e);var t=Object(x.a)(n);function n(){return Object(u.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"reducerPrefix",get:function(){return"shopCategory"}}]),n}(M),$n=function(e){Object(K.a)(n,e);var t=Object(x.a)(n);function n(){return Object(u.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n)}($t),er=function(e){Object(K.a)(n,e);var t=Object(x.a)(n);function n(){return Object(u.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n)}($t),tr=function(e){Object(K.a)(n,e);var t=Object(x.a)(n);function n(){var e;return Object(u.a)(this,n),(e=t.call(this)).methodPrefix="shopOrder",e}return Object(l.a)(n,[{key:"kanban",value:function(){var e=Object(He.a)(Ue.a.mark((function e(){var t,n,r,a,i=arguments;return Ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=i.length>0&&void 0!==i[0]?i[0]:null,n={method:this.methodName("kanban")},this._forgeRequestByQuery(n,t),e.prev=3,e.next=6,this.sendRequest(n);case 6:return r=e.sent,(a=new Vt).collection=r.body,a.paginator=this._createPaginatorFromRequestMeta(r.meta),a.query=t,e.abrupt("return",a);case 14:throw e.prev=14,e.t0=e.catch(3),e.t0;case 17:case"end":return e.stop()}}),e,this,[[3,14]])})));return function(){return e.apply(this,arguments)}}()}]),n}(Qt),nr=function(e){Object(K.a)(n,e);var t=Object(x.a)(n);function n(){return Object(u.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"kanban",value:function(){var e=Object(He.a)(Ue.a.mark((function e(){var t,n,r=arguments;return Ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:null,e.prev=1,e.next=4,this.repository.kanban(t);case 4:return n=e.sent,this.stateRepository&&this.stateRepository.setDataProvider(n),e.abrupt("return",n);case 9:throw e.prev=9,e.t0=e.catch(1),e.t0;case 12:case"end":return e.stop()}}),e,this,[[1,9]])})));return function(){return e.apply(this,arguments)}}()}]),n}($t);var rr="shop";!function(e){var t=p.createInstance(e);t.bind("repositories.api.category",Jn),t.bind("repositories.api.product",Xn),t.bind("repositories.state.category",Zn),t.bind("services.category",$n,["this.repositories.state.category","this.repositories.api.category"]),t.bind("services.product",(function(e){return new er(null,e)}),["this.repositories.api.product"]),t.bind("repositories.api.order",(function(){var e=new tr;return e.methodPrefix="shopOrder",e})),t.bind("services.order",(function(e){return new nr(null,e)}),["this.repositories.api.order"])}(rr),function(e){var t=p.createInstance(e);q.bindFromRepositoryId(t.get("repositories.state.category"))}(rr);!function(e){var t=p.createInstance(e);t.bind("repositories.api.company",(function(){var e=new Qt;return e.methodPrefix="companyCompany",e})),t.bind("services.company",(function(e){return new $t(null,e)}),["this.repositories.api.company"]),t.bind("repositories.api.employee",(function(){var e=new Qt;return e.methodPrefix="companyEmployee",e})),t.bind("services.employee",(function(e){return new $t(null,e)}),["this.repositories.api.employee"])}("company");Object.assign(b,{app:{}});var ar=n(168),ir=q.getReducers(),sr=Object(ar.combineReducers)(ir),or=Object(ar.createStore)(sr);p.singleton("app.store",or);var cr=new(function(){function e(){Object(u.a)(this,e)}return Object(l.a)(e,[{key:"unprocessableEntityErrorToString",value:function(e){var t="",n=e.getErrors();if(n.length>0)for(var r in n){if(n.hasOwnProperty(r))t+=" \n "+n[r].message}else t=e.message;return t}},{key:"unprocessableEntityErrorToAssoc",value:function(e){var t={},n=e.getErrors();if(n.length>0)for(var r in n)if(n.hasOwnProperty(r)){var a=n[r],i=a.field;void 0===t[i]&&(t[i]=[]),t[i].push(a.message)}return t}}]),e}()),ur=function(){function e(){Object(u.a)(this,e)}return Object(l.a)(e,null,[{key:"encode",value:function(e){return this.assoc.hasOwnProperty(e)?this.assoc[e]:e}}]),e}();ur.assoc={en:"us",kk:"kz"};var lr=function(){function e(){Object(u.a)(this,e)}return Object(l.a)(e,null,[{key:"first",value:function(){return Dn.connections[0]}},{key:"all",value:function(){return Dn.connections}}]),e}(),hr=Object(l.a)((function e(){Object(u.a)(this,e)}));hr.BEFORE_BOOTSTRAP_LOAD="app.bootstrap.load.before",hr.AFTER_BOOTSTRAP_LOAD="app.bootstrap.load.after",fe.on(hr.AFTER_BOOTSTRAP_LOAD,(function(){var e=lr.first();b.get("rpc.repositories.api.transport").rpcUrl=e.rpcUrl})),fe.on(Be.CLIENT_RESPONSE_ERROR,(function(e){e instanceof We?It.error(cr.unprocessableEntityErrorToString(e)):e instanceof Ge?(It.info(e.message),window.location.href=P.normalize(R.user.loginRoute)):It.error(e.message)})),fe.on(Be.CLIENT_BEFORE_SEND,(function(e){var t=b.get("security.services.userProvider").getTokenEntity();t.isAuthenticated()&&v.a.set(e,"meta.Authorization",t.getToken())})),fe.on(Be.CLIENT_BEFORE_SEND,(function(e){var t=b.get("language.services.switch").oneSelected();if(t&&t.code){var n=ur.encode(t.code);v.a.set(e,"meta.Language",n)}})),fe.on(ye.LOGIN,(function(e){It.success(Object(_e.b)("authorization.message.signInSuccess"))})),fe.on(ye.LOGOUT,(function(e){It.success(Object(_e.b)("authorization.message.signOutSuccess"))})),Me.register((function(e,t){Ae.isDev()&&(t.on($e.CLOSE,(function(e){console.info("WebSocket. \u0421\u043e\u0435\u0434\u0438\u043d\u0435\u043d\u0438\u0435 \u0437\u0430\u043a\u0440\u044b\u0442\u043e \u0447\u0438\u0441\u0442\u043e")})),t.on($e.BREAK,(function(e){console.info("WebSocket. \u041e\u0431\u0440\u044b\u0432 \u0441\u043e\u0435\u0434\u0438\u043d\u0435\u043d\u0438\u044f"),console.info("WebSocket. \u041a\u043e\u0434: "+e.code,e)})),t.on($e.MESSAGE,(function(e){"connect"===e.name?(console.info("WebSocket. \u0421\u043e\u0435\u0434\u0438\u043d\u0435\u043d\u0438\u0435 \u0443\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u043e."),console.info("WebSocket. \u0410\u043a\u0442\u0438\u0432\u043d\u044b\u0445 \u0441\u043e\u0435\u0434\u0438\u043d\u0435\u043d\u0438\u0439: "+e.data.totalConnections)):console.info("WebSocket. \u041f\u043e\u043b\u0443\u0447\u0435\u043d\u044b \u0434\u0430\u043d\u043d\u044b\u0435 ",e)})),t.on($e.ERROR,(function(e){console.info("WebSocket. \u041e\u0448\u0438\u0431\u043a\u0430 ",e.message)})))}));var vr=function(){function e(){Object(u.a)(this,e),this.handler=null,this.isDisposable=!0}return Object(l.a)(e,[{key:"timestamp",value:function(){return ut.timestamp()}},{key:"stop",value:function(){clearInterval(this.handler),this.handler=null}},{key:"start",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1e3,n=arguments.length>1?arguments[1]:void 0;null===this.handler&&(this.handler=setInterval((function(){n(),e.isDisposable&&e.stop()}),t))}}]),e}();fe.on(ye.SET_TOKEN_ENTITY,(function(e){var t=b.get("webSocket.services.connection"),n=R.get("webSocket.enable",!1);if(e.isAuthenticated()&&n){var r=R.get("webSocket.startDelay",1e3);(new vr).start(r,(function(){var e=lr.first();t.url=e.webSocketUrl,t.open()}))}else t.close()})),fe.on($e.BREAK,(function(e){It.error("WebSocket. \u041e\u0431\u0440\u044b\u0432 \u0441\u043e\u0435\u0434\u0438\u043d\u0435\u043d\u0438\u044f. \u041a\u043e\u0434: "+e.code)})),fe.on(ye.LOGOUT,(function(){b.get("webSocket.services.connection").close()})),fe.on($e.ERROR,(function(e){It.error("WebSocket. \u041e\u0448\u0438\u0431\u043a\u0430 "+e.message)}));var dr=function(){function e(){Object(u.a)(this,e)}return Object(l.a)(e,[{key:"addHome",value:function(){b.get("breadcrumb.services.breadcrumb").clear(),this.add("Home","/")}},{key:"add",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"/";b.get("breadcrumb.services.breadcrumb").add(e,t)}}]),e}(),fr=new dr;fe.on(hr.AFTER_BOOTSTRAP_LOAD,(function(){fr.addHome(),fr.add("Main")})),fe.on(hr.AFTER_BOOTSTRAP_LOAD,(function(){Me.initAll()})),fe.emit(hr.BEFORE_BOOTSTRAP_LOAD),b.get("security.services.userProvider").init(),b.get("language.services.switch").init(),fe.emit(hr.AFTER_BOOTSTRAP_LOAD);var yr=n(375),pr=n(363),mr=n(373);function br(e){var t=e.target.attributes.getNamedItem("data-target").nodeValue,n=document.getElementById(t);Object(mr.a)(n.value)}var gr=function(e){return Object(qt.jsx)(yr.a,{initialValues:{masterKey:"qwerty",host:"yandex.kz",login:"theyamshikov",nonce:1,passwordLength:10,password:""},onSubmit:e.onSubmit,validate:function(e){var t={};return e.host||(t.host="Required"),e.masterKey||(t.masterKey="Required"),e.login||(t.login="Required"),e.nonce||(t.nonce="Required"),e.passwordLength||(t.passwordLength="Required"),t},children:function(e){var t=e.values,n=e.errors,r=e.handleChange,a=e.handleBlur,i=e.handleSubmit,s=e.isSubmitting;return Object(qt.jsxs)(Ft.a,{onSubmit:i,children:[Object(qt.jsxs)(pr.a,{children:[Object(qt.jsx)("label",{htmlFor:"",children:"Host"}),Object(qt.jsx)(Ft.a.Control,{name:"host",onChange:r,onBlur:a,value:t.host}),Object(qt.jsx)(Ft.a.Text,{className:"text-danger",children:n.host})]}),Object(qt.jsxs)(pr.a,{children:[Object(qt.jsx)("label",{htmlFor:"",children:"Login"}),Object(qt.jsx)(Ft.a.Control,{name:"login",onChange:r,onBlur:a,value:t.login}),Object(qt.jsx)(Ft.a.Text,{className:"text-danger",children:n.login})]}),Object(qt.jsxs)(pr.a,{children:[Object(qt.jsx)("label",{htmlFor:"",children:"Nonce"}),Object(qt.jsx)(Ft.a.Control,{name:"nonce",onChange:r,onBlur:a,value:t.nonce,type:"number"}),Object(qt.jsx)(Ft.a.Text,{className:"text-danger",children:n.nonce})]}),Object(qt.jsxs)(pr.a,{children:[Object(qt.jsx)("label",{htmlFor:"",children:"Password length"}),Object(qt.jsx)(Ft.a.Control,{name:"passwordLength",onChange:r,onBlur:a,value:t.passwordLength,type:"number"}),Object(qt.jsx)(Ft.a.Text,{className:"text-danger",children:n.passwordLength})]}),Object(qt.jsxs)(pr.a,{children:[Object(qt.jsx)("label",{htmlFor:"",children:"Master key"}),Object(qt.jsx)(Ft.a.Control,{name:"masterKey",onChange:r,onBlur:a,value:t.masterKey,type:"password",autoComplete:"off"}),Object(qt.jsx)(Ft.a.Text,{className:"text-danger",children:n.masterKey})]}),Object(qt.jsx)(Ht.a,{type:"submit",disabled:s,children:"Generate"}),Object(qt.jsx)("hr",{}),Object(qt.jsxs)(pr.a,{children:[Object(qt.jsx)("label",{htmlFor:"",children:"Password"}),Object(qt.jsxs)("div",{className:"input-group",children:[Object(qt.jsx)(Ft.a.Control,{id:"password",name:"password",onChange:r,onBlur:a,value:t.password,readOnly:!0,autoComplete:"off",style:{fontFamily:"monospace"}}),Object(qt.jsx)("div",{className:"input-group-append",children:Object(qt.jsx)(Ht.a,{"data-target":"password",onClick:br,children:"Copy"})})]})]})]})}})},Or=Object(l.a)((function e(){Object(u.a)(this,e)}));Or.WEAK=1,Or.NORMAL=2,Or.STRONG=3,Or.ERY_STRONG=4;var kr=function(){function e(){Object(u.a)(this,e)}return Object(l.a)(e,[{key:"generate",value:function(e,t,n){for(var r in e=v.a.trim(e),t=v.a.trim(t),n)n[r]=v.a.trim(n[r]);return t+"@"+e+"?"+new URLSearchParams(n).toString()}}]),e}(),jr=function(){function e(t,n){Object(u.a)(this,e),this._masterKey=void 0,this._passwordLength=void 0,this._passwordEncoder=void 0,this._hasher=void 0,this._passwordStrength=Or.STRONG,this._passwordEncoder=n,this._hasher=t}return Object(l.a)(e,[{key:"masterKey",set:function(e){this._masterKey=v.a.trim(e)}},{key:"passwordLength",set:function(e){if(!v.a.isInteger(e))throw new Error("Password length not integer");if(e<5)throw new Error("Password length less then 5");if(e>32)throw new Error("Password length greater then 32");this._passwordLength=e}},{key:"passwordStrength",set:function(e){if(!v.a.isInteger(e))throw new Error("Password strength not integer");this._passwordStrength=e}},{key:"generate",value:function(e,t,n){var r=this.forgeUrl(e,t,n),a=this._hasher.hash(r).toString("hex");return this._generatePassword(a)}},{key:"_generatePassword",value:function(e){var t,n=0;do{n++,t=this._generatePasswordItem(e,n)}while(!this.isStrongPassword(t));return t}},{key:"_generatePasswordItem",value:function(e,t){return this._passwordEncoder.generate(e+t).substr(0,this._passwordLength)}},{key:"forgeUrl",value:function(e,t,n){if(!v.a.isInteger(n))throw new Error("nonce not integer");var r={secret:this._masterKey,nonce:n.toString()};return(new kr).generate(e,t,r)}},{key:"isStrongPassword",value:function(e){var t=0;return!!e.match(/\d+/)&&t++,!!e.match(/[!#$%*+=?@]+/)&&t++,!!e.match(/[a-z]+/)&&t++,!!e.match(/[A-Z]+/)&&t++,t>=this._passwordStrength}}]),e}();var wr=function(){function e(){Object(u.a)(this,e)}return Object(l.a)(e,null,[{key:"encode",value:function(e){return v.a.isInteger(e)?function(e){for(var t=Math.ceil(Math.log2(e)/8),n=new Uint8Array(t),r=0;r<n.length;r++){var a=255&e;n[r]=a,e=(e-a)/256}return n}(e):e instanceof Uint8Array?e:X.a.toBuffer(e)}},{key:"decodeToArray",value:function(e){return Array.from(e)}},{key:"decodeToString",value:function(e){return e.toString()}},{key:"decodeToInteger",value:function(e){return function(e){for(var t=0,n=e.length-1;n>=0;n--)t=256*t+e[n];return t}(e)}},{key:"merge",value:function(e,t){var n=this.decodeToArray(e),r=this.decodeToArray(t);for(var a in r){var i=r[a];n.push(i)}return this.encode(n)}}]),e}(),_r=n(29),Sr=n(47),Er=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Sr.a.SHA256;if(Object(u.a)(this,e),this.cost=void 0,this.algorithm=Sr.a.SHA256,t<1)throw new Error("Cost not can be less then 1");if(!n)throw new Error("Empty algorithm");this.cost=t,this.algorithm=n}return Object(l.a)(e,[{key:"hash",value:function(e){for(var t,n=this.prepareValue(e),r=n,a=0;a<this.cost;a++)t=this.generateHash(r),r=this.forHash(n,t,r,a);return t}},{key:"prepareValue",value:function(e){return X.a.toBuffer(e)}},{key:"generateHash",value:function(e){return _r.a.hash(this.algorithm,e)}}]),e}(),Nr=function(e){Object(K.a)(n,e);var t=Object(x.a)(n);function n(){return Object(u.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"forHash",value:function(e,t,n,r){return wr.merge(e,t)}}]),n}(Er),Pr=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;Object(u.a)(this,e),this.alphabet=Nt.BASE_58+"!#$%&()*+-./:<=>?@[\\]_{}",t&&(this.alphabet=t)}return Object(l.a)(e,[{key:"generate",value:function(e){var t=_r.a.sha256(e);return Et()(this.alphabet).encode(t).substr(2)}}]),e}(),Tr=new(function(){function e(){Object(u.a)(this,e)}return Object(l.a)(e,[{key:"createInstance",value:function(e,t,n,r){var a=new Pr,i=new Nr(n,r),s=new jr(i,a);return s.masterKey=e,s.passwordLength=t,s.passwordStrength=Or.STRONG,s}},{key:"createInstanceV1",value:function(e,t){return this.createInstance18kSha256(e,t)}},{key:"createInstance18kSha256",value:function(e,t){return this.createInstance(e,t,18e3,Sr.a.SHA256)}},{key:"createInstance18kPbkdf2",value:function(e,t){var n=new Pr,r=new Rn(18e3);r.salt=_r.a.sha256("passwordGenerator");var a=new jr(r,n);return a.masterKey=e,a.passwordLength=t,a.passwordStrength=Or.STRONG,a}}]),e}()),Rr=function(e){Object(K.a)(n,e);var t=Object(x.a)(n);function n(){return Object(u.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"handleSubmit",value:function(e,t){var n=t.setSubmitting,r=Tr.createInstance18kPbkdf2(e.masterKey,e.passwordLength);e.password=r.generate(e.host,e.login,e.nonce),n(!1)}},{key:"render",value:function(){return Object(qt.jsx)("div",{children:Object(qt.jsx)(gr,{onSubmit:this.handleSubmit})})}}]),n}(r.Component),Kr=Object(qt.jsx)(qt.Fragment,{children:Object(qt.jsx)(o.a,{exact:!0,path:"/",component:Rr})}),xr=function(e){Object(K.a)(n,e);var t=Object(x.a)(n);function n(){return Object(u.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){return Object(qt.jsx)(qt.Fragment,{children:this.props.children})}}]),n}(r.Component),Ir=n(683),Cr=(n(675),function(e){Object(K.a)(n,e);var t=Object(x.a)(n);function n(){return Object(u.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){var e=this.props.type;return(this.props.hasOwnProperty("isLoading")?this.props.isLoading:b.get("loader.services.status").isLoading(this.props.name))?e?Object(qt.jsx)(e,{}):Object(qt.jsx)("div",{children:"Loading...."}):this.props.children}}]),n}(r.Component)),Br=Object(c.connect)((function(e){return{loaderStatus:e.loaderStatus}}))(Cr),Ar=new(function(){function e(){Object(u.a)(this,e),this._defaultTitle=void 0}return Object(l.a)(e,[{key:"setPageTitleDefault",value:function(){this._defaultTitle&&this.setPageTitle(this._defaultTitle)}},{key:"setPageTitle",value:function(e){var t=document.querySelector("title");this._defaultTitle||(this._defaultTitle=t.innerText),t.innerText=e}}]),e}()),Mr=function(e){Object(K.a)(n,e);var t=Object(x.a)(n);function n(){var e;Object(u.a)(this,n);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))).default={},e}return Object(l.a)(n,[{key:"setTitle",value:function(e){Ar.setPageTitle(e)}},{key:"getLoader",value:function(){return null}},{key:"addBreadcrumb",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;fr.add(e,t)}},{key:"getClassName",value:function(){return this.constructor.name}},{key:"loaderRender",value:function(e){return Object(qt.jsx)(Br,{type:this.getLoader(),name:this.getClassName(),children:e})}},{key:"wrapper",value:function(e){return this.getLoader()?this.loaderRender(e.children):e.children}},{key:"startLoad",value:function(){b.get("loader.services.status").startLoad(this.getClassName())}},{key:"endLoad",value:function(){b.get("loader.services.status").endLoad(this.getClassName())}},{key:"isLoading",value:function(){return b.get("loader.services.status").isLoading(this.getClassName())}},{key:"redirect",value:function(e){if(null===e)throw new Error("Empty uri for redirect!");this.props.history.push(e)}},{key:"redirectToHome",value:function(){this.redirect("/")}},{key:"componentDidMountIfUpdated",value:function(e,t,n){var r=v.a.get(e,"location.search","");v.a.get(this.props,"location.search","")!==r&&this.componentDidMount()}}]),n}(r.Component),Lr=n(684);function Dr(e){return Object(qt.jsxs)(Lr.a,{show:e.isVisible,onHide:e.onHide,children:[Object(qt.jsx)(Lr.a.Header,{closeButton:!0,children:Object(qt.jsx)(Lr.a.Title,{children:e.header})}),Object(qt.jsx)(Lr.a.Body,{children:e.body}),Object(qt.jsxs)(Lr.a.Footer,{children:[Object(qt.jsx)(Ht.a,{variant:"secondary",onClick:e.onHide,children:"Close"}),Object(qt.jsx)(Ht.a,{variant:"primary",onClick:e.onConfirm,children:e.confirmLabel})]})]})}var Fr=function(e){Object(K.a)(n,e);var t=Object(x.a)(n);function n(){return Object(u.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){var e=this.props.modalConfirm;return Object(qt.jsx)(Dr,{header:e.title,body:e.body,confirmLabel:"Delete",onConfirm:function(){b.get("modal.services.confirm").close(),e.onConfirm()},isVisible:e.isVisible,onHide:function(){b.get("modal.services.confirm").close(),"function"===typeof e.onHide&&e.onHide()}})}}]),n}(Mr),Hr=Object(c.connect)((function(e){return{modalConfirm:e.modalConfirm}}))(Fr),qr=new(function(){function e(){Object(u.a)(this,e)}return Object(l.a)(e,[{key:"run",value:function(){Ar.setPageTitleDefault()}}]),e}());function Ur(e){var t=Object(o.f)();return a.a.useEffect((function(){qr.run()}),[t]),Object(qt.jsxs)(a.a.Fragment,{children:[Object(qt.jsx)(Ir.a,{as:"main",role:"main",children:Object(qt.jsx)(xr,{children:e.children})}),Object(qt.jsx)(Ke.a,{}),Object(qt.jsx)(Hr,{})]})}function Gr(e){return Object(qt.jsx)(Ur,{children:e.routes})}var Wr,Vr=function(e){return Object(qt.jsx)(Lt.a,{children:e.children})},zr=function(e){return Object(qt.jsx)(Lt.a,{children:Object(qt.jsx)(Lt.b,{children:e.children})})};R.router.type===N.SLASH?Wr=Vr:R.router.type===N.HASH&&(Wr=zr);var Qr=Wr,Yr=b.get("app.store");s.a.render(Object(qt.jsx)(c.Provider,{store:Yr,children:Object(qt.jsx)(Qr,{children:Object(qt.jsx)(o.c,{children:Object(qt.jsx)(Gr,{routes:Kr})})})}),document.getElementById("root"))}},[[676,1,2]]]);
//# sourceMappingURL=main.99972f00.chunk.js.map